"use strict";vis.binds.materialdesign.helper={vibrate:function(e){try{"vibrate"in navigator&&window.navigator.vibrate(e)}catch(e){console.exception(`vibrate [${data.wid}]: error: ${e.message}, stack: ${e.stack}`)}},waitForElement:function(e,t,a){window.setTimeout(function(){e.find(t).length?a(t,$(t)):(console.log("wait"),vis.binds.materialdesign.helper.waitForElement(e,t,a))},50)},installedVersion:function(e,t){setTimeout(function(){let t='version: "0.2.34"';console.log(t),$(e).find(".materialdesign-installed-version-badge").attr("src",`https://img.shields.io/badge/installed-${t.replace('version: "',"").replace('"',"")}-%234ac51c`)},1)},getValueFromData:function(e,t,a="",l=""){try{return null==e||""===e?t:a+e+l}catch(e){return console.error(e.message),"Error"}},getNumberFromData:function(e,t){try{return null==e||""===e||isNaN(e)?t:parseFloat(e)}catch(e){return console.error(e.message),"Error"}},getFontSize:function(e){let t=vis.binds.materialdesign.helper.getValueFromData(e,null);return null!==t?t.includes("headline")||t.includes("subtitle")||t.includes("body")||t.includes("caption")||t.includes("button")||t.includes("overline")?{class:`mdc-typography--${t}`,style:""}:isNaN(t)?{class:"",style:`font-size: ${t};`}:{class:"",style:`font-size: ${t}px;`}:{class:"",style:""}},getListItemHeader:function(e,t){return null!==e?`<h3 class="mdc-list-group__subheader ${t.class}" \n                        style="${t.style}">\n                            ${e}\n                    </h3>`:""},getListItemTextElement:function(e,t,a,l,r="left"){let i="flex-start";return"center"===r?i="center":"right"===r&&(i="flex-end"),`<span class="mdc-list-item__text" style="width: 100%">     \n                    <span class="mdc-list-item__primary-text ${a.class}" style="justify-content: ${i};${a.style}">${e}</span>\n                    <span class="mdc-list-item__secondary-text ${l.class}" style="text-align: ${r}; ${l.style}">${t}</span>\n                </span>`},getListItemImage:function(e,t){return""!=e?`<img \n                    class="mdc-list-item__graphic" src="${e}" \n                    style="width: auto; padding-top: 8px; padding-bottom: 8px;${t}"\n                >`:""},getListItem:function(e,t,a,l,r=!1,i="",o="",s="",n=""){return"standard"===e?`<div \n                        class="mdc-list-item${r?" mdc-sub-list-item isSubItem":""}${0===t?" mdc-list-item--activated":""}${l?" hasSubItems":""}" \n                        tabindex="${0===t?"0":"-1"}" \n                        id="listItem_${t}" \n                        style="${i}"\n                        data-value="${n}" \n                        ${o} \n                        ${s}\n                    >`:`<div \n                        class="mdc-list-item${r?" mdc-sub-list-item isSubItem":""}${0===t?" mdc-list-item--activated":""} mdc-card__media${l?" hasSubItems":""}" \n                        tabindex="${0===t?"0":"-1"}"\n                        id="listItem_${t}"\n                        style="background-image: url(${a}); align-items: flex-end; padding: 0px;${i}"\n                    >`},getListItemLabel:function(e,t,a,l,r,i,o,s,n=!1,d="left"){let m="";if(l&&(m=`<span \n                                    class="mdc-list-item__meta material-icons toggleIcon" aria-hidden="true" ${vis.binds.materialdesign.helper.getValueFromData(o,"",'style="color: ',';"')}>\n                                        keyboard_arrow_down\n                                </span>`),"standard"===e){let e=`<span \n                                    class="mdc-list-item__text ${r.class}"\n                                    id="listItem_${t}"\n                                    style="width: 100%; text-align: ${d}; ${r.style}${i}">\n                                        ${a}\n                                </span>`;return e+m}return`<div \n                        class="materialdesign-list-item-backdrop-container${n?" isSubItem":""}" \n                        id="backdropContainer_${t}" \n                        style="${s}">\n                            <span \n                                class="mdc-list-item__text ${r.class}"\n                                id="listItem_${t}"\n                                style="position: absolute; ${r.style}${i}">\n                                    ${a}\n                            </span>\n                            ${m}\n                    </div>`},getListItemDivider:function(e,t){return!0===e||"true"===e?"standard"===t?'<hr class="mdc-list-divider">':`<hr class="mdc-list-divider mdc-list-divider--${t}">`:""}};let myMdwHelper=vis.binds.materialdesign.helper;vis.binds.materialdesign.button={initializeButton:function(e,t=!1){try{let t=[],a=getValueFromData(e.image,null),l="width: auto;";getValueFromData(e.iconHeight,0)>0&&(l=`width: ${e.iconHeight}px;`);let r="";getValueFromData(e.labelWidth,0)>0&&(r=`style="width: ${e.labelWidth}%;"`);let i="";"true"!==e.invertImage&&!0!==e.invertImage||(i="filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);");let o="";"text"!==e.buttonStyle&&(o="materialdesign-button--"+e.buttonStyle),t.push('<div \n                                        class="materialdesign-button-body" \n                                        style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;">');let s="";null!==a&&(s=`<img \n                                    class="imgButton" src="${a}" \n                                    style="${l}${i}" />`);let n="";return null!=getValueFromData(e.buttontext,null)&&(n=`<span \n                                    class="materialdesign-button__label" ${r}>\n                                    ${e.buttontext}\n                                </span>`),"left"===e.iconPosition?t.push(`${s}${n}</div>`):t.push(`${n}${s}</div>`),{button:t.join(""),style:o}}catch(e){console.exception(`initializeButton: error: ${e.message}, stack: ${e.stack}`)}},handleLink:function(e,t){$(e).click(function(){!vis.editMode&&t.href&&(t.openNewWindow?window.open(t.href):window.location.href=t.href)})},handleNavigation:function(e,t){if(!vis.editMode&&t.nav_view){var a=$(e),l=!1;a.on("click touchend",function(e){vis.detectBounce(this)||l||vis.changeView(t.nav_view,t.nav_view)}).on("touchmove",function(){l=!0}).on("touchstart",function(){l=!1})}},handleAdition:function(e,t){try{let a=$(e);a.on("click touchend",function(e){let a=vis.states.attr(t.oid+".val");vis.setValue(t.oid,parseFloat(a)+parseFloat(t.value))})}catch(e){console.exception(`handleAdition [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}},handleToggle:function(e,t){try{var a=$(e);let r=getValueFromData(t.colorBgFalse,""),i=getValueFromData(t.colorBgTrue,r),o=getValueFromData(t.labelColorBgFalse,""),s=getValueFromData(t.labelColorBgTrue,o),n=getValueFromData(t.image,""),d=getValueFromData(t.imageTrue,n),m={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImage&&!0!==t.invertImage||(m={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let c={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImageTrue&&!0!==t.invertImageTrue||(c={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let u=getValueFromData(t.buttontext,""),g=getValueFromData(t.labelTrue,u),p=getValueFromData(t.labelColorFalse,""),b=getValueFromData(t.labelColorTrue,p);function l(){var e=vis.states.attr(t.oid+".val");let l=!1;"boolean"===t.toggleType?l=e:e===parseInt(t.valueOn)||e===t.valueOn?l=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(l=!0),l?(a.parent().attr("toggled",!0),a.parent().css("background",i),a.parent().find(".imgButton").attr("src",d).css(c),a.parent().find(".materialdesign-button__label").html(g).css("color",b),a.find(".labelRowContainer").css("background",s)):(a.parent().attr("toggled",!1),a.parent().css("background",r),a.parent().find(".imgButton").attr("src",n).css(m),a.parent().find(".materialdesign-button__label").html(u).css("color",p),a.find(".labelRowContainer").css("background",o))}l(),t.readOnly&&!vis.editMode&&a.parent().css("pointer-events","none"),vis.states.bind(t.oid+".val",function(e,t,a){l()}),vis.editMode||a.parent().click(function(){"boolean"===t.toggleType?vis.setValue(t.oid,!vis.states.attr(t.oid+".val")):!0===a.parent().attr("toggled")||"true"===a.parent().attr("toggled")?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn)})}catch(e){console.exception(`handleToggle [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.card={initialize:function(e){try{let t="",a="";"default"!==e.cardStyle&&(a="mdc-card--outlined");let l=getFontSize(e.titleLayout),r=getFontSize(e.subtitleLayout),i=getFontSize(e.textFontSize),o=getValueFromData(e.labelTextHeight,"","height: ","px;"),s=getValueFromData(e.labelSubTextHeight,"","height: ","px;"),n="display: none;";null!==getValueFromData(e.image,null)&&(n="");let d="display: none;";null==getValueFromData(e.title,null)&&null==getValueFromData(e.subtitle,null)||(d="");let m="";return m="custom"===e.htmlLayout?"card-custom-body":"mdc-typography mdc-typography--"+e.htmlLayout,"Basic"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"BasicHeader"===e.cardLayout?t=`<div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"BasicHeaderOverlay"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}">\n                            <div class="materialdesign-html-card mdc-card__media-content">\n                                <div class="materialdesign-html-card card-title-section" style="${d}">\n                                    <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"Horizontal"===e.cardLayout&&(t=`<div class="materialdesign-html-card horizontal-container" style="${d}">\n                            <div class="materialdesign-html-card mdc-card__media mdc-card__media--square" style="background-image: url(${e.image});${n}"></div>\n                            <div>\n                                <div class="materialdesign-html-card card-title-section">\n                                    <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                                </div>\n                                <div class="materialdesign-html-card card-text-section">\n                                    <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                                </div>\n                            </div>\n                        </div>`),{card:t,style:a}}catch(e){console.exception(`initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let a=$(e),l=a.context,r=getValueFromData(t.colorBackground,"");l.style.setProperty("--materialdesign-color-card-background",r),l.style.setProperty("--materialdesign-color-card-title-section-background",getValueFromData(t.colorTitleSectionBackground,r)),l.style.setProperty("--materialdesign-color-card-text-section-background",getValueFromData(t.colorTextSectionBackground,r)),l.style.setProperty("--materialdesign-color-card-title",getValueFromData(t.colorTitle,"")),l.style.setProperty("--materialdesign-color-card-sub-title",getValueFromData(t.colorSubtitle,""))}catch(e){console.exception(`handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart={bar:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var l=$(e).find(".materialdesign-chart-container").get(0);$(e).find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let r=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),i=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=i&&(i=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=l&&""!==l){var o=l.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],g=[],p=[],b=myMdwHelper.getValueFromData(t.valuesFontColor,"black"),y=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(myMdwHelper.getValueFromData(t.attr("label"+s),"").split("\\n")),null!=i&&(r=i[s]);let l=myMdwHelper.getValueFromData(t.attr("dataColor"+s),r);g.push(l),null===myMdwHelper.getValueFromData(t.hoverColor,null)?p.push(a.convertHex(l,80)):p.push(t.hoverColor),y.push(myMdwHelper.getValueFromData(t.attr("valueTextColor"+s),b)),vis.states.bind(t.attr("oid"+s)+".val",c)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,g,p,void 0,t.hoverBorderColor,void 0,t.hoverBorderWidth),{label:myMdwHelper.getValueFromData(t.barLabelText,""),categoryPercentage:myMdwHelper.getNumberFromData(t.barWidth,80)/100,barPercentage:myMdwHelper.getNumberFromData(t.barWidth,80)/100})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},scales:{yAxes:[a.get_Y_AxisObject(t.chartType,t.yAxisPosition,t.yAxisTitle,t.yAxisTitleColor,t.yAxisTitleFontFamily,t.yAxisTitleFontSize,t.yAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.yAxisValueLabelColor,t.yAxisValueFontFamily,t.yAxisValueFontSize,t.yAxisValueDistanceToAxis,t.yAxisGridLinesColor,t.yAxisGridLinesWitdh,t.yAxisShowAxis,t.yAxisShowGridLines,t.yAxisShowTicks,t.yAxisTickLength)],xAxes:[a.get_X_AxisObject(t.chartType,t.xAxisPosition,t.xAxisTitle,t.xAxisTitleColor,t.xAxisTitleFontFamily,t.xAxisTitleFontSize,t.xAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.xAxisValueLabelColor,t.xAxisValueFontFamily,t.xAxisValueFontSize,t.xAxisValueDistanceToAxis,t.xAxisGridLinesColor,t.xAxisGridLinesWitdh,t.xAxisShowAxis,t.xAxisShowGridLines,t.xAxisShowTicks,t.xAxisTickLength)]},tooltips:{enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,l){return e&&e.value?`${l.datasets[0].label}: ${a.roundNumber(parseFloat(e.value),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:myMdwHelper.getNumberFromData(t.valuesRotation,void 0),formatter:function(e,l){return e?`${a.roundNumber(e,myMdwHelper.getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.valuesAppendText,"")}${myMdwHelper.getValueFromData(t.attr("labelValueAppend"+l.dataIndex),"")}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.valuesFontFamily,void 0),size:myMdwHelper.getNumberFromData(t.valuesFontSize,void 0)},color:y,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var m=new Chart(o,{type:"vertical"===t.chartType?"bar":"horizontalBar",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function c(e,a,l){let r=e.type.substr(0,e.type.lastIndexOf("."));for(var i=0;i<=t.dataCount;i++)if(r===t.attr("oid"+i)){let e=i;m.data.datasets[0].data[e]=a,m.update()}}}},1)}catch(e){console.exception(`bar: error:: ${e.message}, stack: ${e.stack}`)}},lineHistory:function(e,t){let a=`lineHistory[${t.wid}]:`;try{setTimeout(function(){function a(e,a,i){if(r){s.show();let e=t.timeIntervalToShow;null!==myMdwHelper.getValueFromData(t.time_interval_oid,null)&&void 0!==l.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(e=vis.states.attr(t.time_interval_oid+".val"),null!==myMdwHelper.getValueFromData(a,null)&&void 0!==l.intervals[a]&&(e=a)),d=l.intervals[e]?(new Date).getTime()-l.intervals[e]:void 0;let i=[];for(var o=0;o<=t.dataCount;o++)null!==myMdwHelper.getValueFromData(t.attr("oid"+o),null)&&i.push(l.getTaskForHistoryData(t.attr("oid"+o),t,d));Promise.all(i).then(e=>{for(var a=0;a<=e.length-1;a++){let i=l.getPreparedData(e[a],t,a);r.data.datasets[a].data=i}r.update(),s.hide()})}}let l=vis.binds.materialdesign.chart.helper;var r;l.registerChartAreaPlugin();let i=$(e);var o=i.find(".materialdesign-chart-container").get(0),s=i.find(".material-progress-circular-container");s.show();let n=t.timeIntervalToShow;null!==myMdwHelper.getValueFromData(t.time_interval_oid,null)&&void 0!==l.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(n=vis.states.attr(t.time_interval_oid+".val"),vis.states.bind(t.time_interval_oid+".val",a));let d=l.intervals[n]?(new Date).getTime()-l.intervals[n]:void 0;i.find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let m=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),c=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=c&&(c=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!==myMdwHelper.getValueFromData(t.manualRefreshTrigger,null)&&vis.states.bind(t.manualRefreshTrigger+".ts",a),"timeInterval"===t.refreshMethod&&setInterval(function(){a()},l.intervals[t.refreshTimeInterval]),null!=o&&""!==o){var u=o.getContext("2d");if(Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels),null!==myMdwHelper.getValueFromData(t.historyAdapterInstance,null)){let e=[];for(var g=0;g<=t.dataCount;g++)null!==myMdwHelper.getValueFromData(t.attr("oid"+g),null)&&(e.push(l.getTaskForHistoryData(t.attr("oid"+g),t,d)),"realtime"===t.refreshMethod&&vis.states.bind(t.attr("oid"+g)+".val",a));Promise.all(e).then(e=>{let a=[],i=[];for(var o=0;o<=e.length-1;o++){let r=l.getPreparedData(e[o],t,o),s=myMdwHelper.getNumberFromData(t.attr("valuesMaxDecimals"+o),10),n=myMdwHelper.getValueFromData(t.attr("valuesAppendText"+o),"");a.push({data:r,lineTension:myMdwHelper.getNumberFromData(t.attr("lineTension"+o),.4),borderWidth:myMdwHelper.getNumberFromData(t.attr("lineThikness"+o),3),label:myMdwHelper.getValueFromData(t.attr("legendText"+o),""),borderColor:myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),pointBackgroundColor:myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),fill:t.attr("useFillColor"+o),backgroundColor:myMdwHelper.getValueFromData(t.attr("fillColor"+o),l.convertHex(myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),10)),pointRadius:myMdwHelper.getNumberFromData(t.pointSize,3),pointHoverRadius:myMdwHelper.getNumberFromData(t.pointSizeHover,4),pointStyle:myMdwHelper.getValueFromData(t.pointStyle,"circle"),pointHoverBorderColor:myMdwHelper.getValueFromData(t.attr("pointHoverColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),pointHoverBackgroundColor:myMdwHelper.getValueFromData(t.attr("pointHoverColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),yAxisID:"yAxis_id_"+myMdwHelper.getNumberFromData(t.attr("commonYAxis"+o),o),spanGaps:t.attr("lineSpanGaps"+o),datalabels:{display:t.attr("showValues"+o),anchor:t.attr("valuesPositionAnchor"+o),align:t.attr("valuesPositionAlign"+o),clamp:!0,rotation:myMdwHelper.getNumberFromData(t.attr("valuesRotation"+o),void 0),formatter:function(e,t){return e.y?`${l.roundNumber(e.y,s).toLocaleString()}${n}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.attr("valuesFontFamily"+o),void 0),size:myMdwHelper.getNumberFromData(t.attr("valuesFontSize"+o),void 0)},color:myMdwHelper.getValueFromData(t.attr("valuesFontColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),textAlign:t.attr("valuesTextAlign"+o)}}),i.push({id:"yAxis_id_"+o,type:"linear",position:t.attr("yAxisPosition"+o),display:myMdwHelper.getNumberFromData(t.attr("commonYAxis"+o),o)===o&&t.attr("showYAxis"+o),scaleLabel:{display:null!==myMdwHelper.getValueFromData(t.attr("yAxisTitle"+o),null),labelString:myMdwHelper.getValueFromData(t.attr("yAxisTitle"+o),""),fontColor:myMdwHelper.getValueFromData(t.yAxisTitleColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.yAxisTitleFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.yAxisTitleFontSize,void 0)},ticks:{min:myMdwHelper.getNumberFromData(t.attr("yAxisMinValue"+o),void 0),max:myMdwHelper.getNumberFromData(t.attr("yAxisMaxValue"+o),void 0),stepSize:myMdwHelper.getNumberFromData(t.attr("yAxisStep"+o),void 0),autoSkip:!0,maxTicksLimit:myMdwHelper.getNumberFromData(t.attr("yAxisMaxLabel"+o),void 0),fontColor:myMdwHelper.getValueFromData(t.attr("yAxisValueColor"+o),myMdwHelper.getValueFromData(t.yAxisValueLabelColor,void 0)),fontFamily:myMdwHelper.getValueFromData(t.yAxisValueFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.yAxisValueFontSize,void 0),padding:myMdwHelper.getNumberFromData(t.yAxisValueDistanceToAxis,0),callback:function(e,a,l){let r=this.id.replace("yAxis_id_","");return`${e}${myMdwHelper.getValueFromData(t.attr("yAxisValueAppendText"+r),"")}`.split("\\n")}},gridLines:{display:!0,color:myMdwHelper.getValueFromData(t.attr("yAxisGridLinesColor"+o),"black"),lineWidth:myMdwHelper.getNumberFromData(t.attr("yAxisGridLinesWitdh"+o),.1),drawBorder:t.attr("yAxisShowAxisBorder"+o),drawOnChartArea:t.attr("yAxisShowGridLines"+o),drawTicks:t.attr("yAxisShowTicks"+o),tickMarkLength:myMdwHelper.getNumberFromData(t.attr("yAxisTickLength"+o),5)}})}var n={datasets:a},d={responsive:!0,maintainAspectRatio:!1,layout:l.getLayout(t),chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},hover:{mode:"nearest"},legend:Object.assign(l.getLegend(t),{onClick:function(e,a){var l=a.datasetIndex,i=this.chart,o=i.getDatasetMeta(l);myMdwHelper.getNumberFromData(t.attr("commonYAxis"+l),l)===l&&(r.options.scales.yAxes[l].display=!r.options.scales.yAxes[l].display),o.hidden=null===o.hidden?!i.data.datasets[l].hidden:null,i.update()}}),scales:{xAxes:[{type:"time",bounds:"axisTicks"===myMdwHelper.getValueFromData(t.xAxisBounds,"")?"ticks":"data",time:{displayFormats:null!==myMdwHelper.getValueFromData(t.xAxisTimeFormats,null)?JSON.parse(t.xAxisTimeFormats):l.defaultTimeFormats(),tooltipFormat:"ll"},position:t.xAxisPosition,scaleLabel:{display:null!==myMdwHelper.getValueFromData(t.xAxisTitle,null),labelString:myMdwHelper.getValueFromData(t.xAxisTitle,""),fontColor:myMdwHelper.getValueFromData(t.xAxisTitleColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.xAxisTitleFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.xAxisTitleFontSize,void 0)},ticks:{display:t.xAxisShowAxisLabels,autoSkip:!0,autoSkipPadding:10,maxTicksLimit:myMdwHelper.getNumberFromData(t.xAxisMaxLabel,void 0),maxRotation:0,minRotation:0,callback:function(e,a,l){return`${e}${myMdwHelper.getValueFromData(t.axisValueAppendText,"")}`.split("\\n")},fontColor:myMdwHelper.getValueFromData(t.xAxisValueLabelColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.xAxisValueFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.xAxisValueFontSize,void 0),padding:myMdwHelper.getNumberFromData(t.xAxisValueDistanceToAxis,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(t.xAxisGridLinesColor,"black"),lineWidth:myMdwHelper.getNumberFromData(t.xAxisGridLinesWitdh,.1),drawBorder:t.xAxisShowAxis,drawOnChartArea:t.xAxisShowGridLines,drawTicks:t.xAxisShowTicks,tickMarkLength:myMdwHelper.getNumberFromData(t.xAxisTickLength,5)}}],yAxes:i},tooltips:{mode:"nearest",enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{title:function(e,a){let r=e[0].datasetIndex,i=e[0].index,o=Object.keys(a.datasets[r]._meta)[0],s=a.datasets[r]._meta[o].controller._xScale._unit,n=moment(a.datasets[r].data[i].t),d=null!==myMdwHelper.getValueFromData(t.tooltipTimeFormats,null)?JSON.parse(t.tooltipTimeFormats):l.defaultToolTipTimeFormats();return n.format(d[s])},label:function(e,a){return e&&e.value?`${a.datasets[e.datasetIndex].label}: ${l.roundNumber(parseFloat(e.value),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}}};t.disableHoverEffects&&(d.hover={mode:null}),r=new Chart(u,{type:"line",data:n,options:d,plugins:[ChartDataLabels]}),s.hide()})}}},1)}catch(e){console.exception(`${a} ${e.message}, stack: ${e.stack}`)}},pie:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var l=$(e).find(".materialdesign-chart-container").get(0);$(e).find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let r=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),i=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=i&&(i=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=l&&""!==l){var o=l.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],g=[],p=[],b=myMdwHelper.getValueFromData(t.valuesFontColor,"black"),y=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(myMdwHelper.getValueFromData(t.attr("label"+s),"").split("\\n")),null!=i&&(r=i[s]);let l=myMdwHelper.getValueFromData(t.attr("dataColor"+s),r);g.push(l),null===myMdwHelper.getValueFromData(t.hoverColor,null)?p.push(a.convertHex(l,80)):p.push(t.hoverColor),y.push(myMdwHelper.getValueFromData(t.attr("valueTextColor"+s),b)),vis.states.bind(t.attr("oid"+s)+".val",c)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,g,p,t.borderColor,t.hoverBorderColor,t.borderWidth,t.hoverBorderWidth),{borderAlign:"inner"})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),cutoutPercentage:"doughnut"===t.chartType?myMdwHelper.getNumberFromData(t.doughnutCutOut,50):0,chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},tooltips:{enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,l){return e?`${u[e.index]}: ${a.roundNumber(parseFloat(l.datasets[0].data[e.index]),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:myMdwHelper.getNumberFromData(t.valuesRotation,void 0),formatter:function(e,l){
return e?`${a.roundNumber(e,myMdwHelper.getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.valuesAppendText,"")}${myMdwHelper.getValueFromData(t.attr("labelValueAppend"+l.dataIndex),"")}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.valuesFontFamily,void 0),size:myMdwHelper.getNumberFromData(t.valuesFontSize,void 0)},color:y,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var m=new Chart(o,{type:"pie"===t.chartType?"pie":"doughnut",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function c(e,a,l){let r=e.type.substr(0,e.type.lastIndexOf("."));for(var i=0;i<=t.dataCount;i++)if(r===t.attr("oid"+i)){let e=i;m.data.datasets[0].data[e]=a,m.update()}}}},1)}catch(e){console.exception(`bar: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart.helper={convertHex:function(e,t){e=e.replace("#","");let a=parseInt(e.substring(0,2),16),l=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return"rgba("+a+","+l+","+r+","+t/100+")"},get_Y_AxisObject:function(e,t,a,l,r,i,o,s,n,d,m,c,u,g,p,b,y,h,v,f,w,F,x){return{position:t,scaleLabel:{display:null!==myMdwHelper.getValueFromData(a,null),labelString:myMdwHelper.getValueFromData(a,""),fontColor:myMdwHelper.getValueFromData(l,void 0),fontFamily:myMdwHelper.getValueFromData(r,void 0),fontSize:myMdwHelper.getNumberFromData(i,void 0)},ticks:{display:o,min:myMdwHelper.getNumberFromData(s,void 0),max:myMdwHelper.getNumberFromData(n,void 0),stepSize:myMdwHelper.getNumberFromData(d,void 0),autoSkip:"horizontal"===e&&(myMdwHelper.getNumberFromData(m,void 0)>0||c),maxTicksLimit:"horizontal"===e?myMdwHelper.getNumberFromData(m,void 0):void 0,callback:function(t,a,l){return"vertical"===e?`${t}${myMdwHelper.getValueFromData(u,"")}`.split("\\n"):t},fontColor:myMdwHelper.getValueFromData(g,void 0),fontFamily:myMdwHelper.getValueFromData(p,void 0),fontSize:myMdwHelper.getNumberFromData(b,void 0),padding:myMdwHelper.getNumberFromData(y,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(h,"black"),lineWidth:myMdwHelper.getNumberFromData(v,.1),drawBorder:f,drawOnChartArea:w,drawTicks:F,tickMarkLength:myMdwHelper.getNumberFromData(x,5)}}},get_X_AxisObject:function(e,t,a,l,r,i,o,s,n,d,m,c,u,g,p,b,y,h,v,f,w,F,x){return{position:t,scaleLabel:{display:null!==myMdwHelper.getValueFromData(a,null),labelString:myMdwHelper.getValueFromData(a,""),fontColor:myMdwHelper.getValueFromData(l,void 0),fontFamily:myMdwHelper.getValueFromData(r,void 0),fontSize:myMdwHelper.getNumberFromData(i,void 0)},ticks:{display:o,min:myMdwHelper.getNumberFromData(s,void 0),max:myMdwHelper.getNumberFromData(n,void 0),stepSize:myMdwHelper.getNumberFromData(d,void 0),autoSkip:"vertical"===e&&(myMdwHelper.getNumberFromData(m,void 0)>0||c),maxTicksLimit:"vertical"===e?myMdwHelper.getNumberFromData(m,void 0):void 0,callback:function(t,a,l){return"horizontal"===e?`${t}${myMdwHelper.getValueFromData(u,"")}`.split("\\n"):t},fontColor:myMdwHelper.getValueFromData(g,void 0),fontFamily:myMdwHelper.getValueFromData(p,void 0),fontSize:myMdwHelper.getNumberFromData(b,void 0),padding:myMdwHelper.getNumberFromData(y,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(h,"black"),lineWidth:myMdwHelper.getNumberFromData(v,.1),drawBorder:f,drawOnChartArea:w,drawTicks:F,tickMarkLength:myMdwHelper.getNumberFromData(x,5)}}},getDataset:function(e,t,a,l,r,i,o){return{data:e,backgroundColor:t,hoverBackgroundColor:a,borderColor:myMdwHelper.getValueFromData(l,"white"),hoverBorderColor:myMdwHelper.getValueFromData(r,void 0),borderWidth:myMdwHelper.getNumberFromData(i,void 0),hoverBorderWidth:myMdwHelper.getNumberFromData(o,void 0)}},getLegend:function(e){return{display:e.showLegend,position:e.legendPosition,labels:{fontColor:myMdwHelper.getValueFromData(e.legendFontColor,void 0),fontFamily:myMdwHelper.getValueFromData(e.legendFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(e.legendFontSize,void 0),boxWidth:myMdwHelper.getNumberFromData(e.legendBoxWidth,10),usePointStyle:e.legendPointStyle}}},getLayout:function(e){return{padding:{top:myMdwHelper.getValueFromData(e.chartPaddingTop,0),left:myMdwHelper.getValueFromData(e.chartPaddingLeft,0),right:myMdwHelper.getValueFromData(e.chartPaddingRight,0),bottom:myMdwHelper.getValueFromData(e.chartPaddingBottom,0)}}},roundNumber:(e,t)=>+(Math.round(e+"e+"+t)+"e-"+t),intervals:{"30 seconds":3e4,"1 minute":6e4,"2 minutes":12e4,"5 minutes":3e5,"10 minutes":6e5,"30 minutes":18e5,"1 hour":36e5,"2 hours":72e5,"4 hours":144e5,"8 hours":288e5,"12 hours":432e5,"1 day":864e5,"2 days":1728e5,"3 days":2592e5,"7 days":6048e5,"14 days":12096e5,"1 month":2628e6,"2 months":5256e6,"3 months":7884e6,"6 months":15768e6,"1 year":31536e6,"2 years":63072e6},defaultTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "H:mm:ss.SSS",\n                "second":         "H:mm:ss",\n                "minute":         "H:mm",\n                "hour":           "H",\n                "day":            "ddd DD.",\n                "week":           "ll",\n                "month":          "MMM YYYY",\n                "quarter":        "[Q]Q - YYYY",\n                "year":           "YYYY"\n            }\n            ')},defaultToolTipTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "lll:ss",\n                "second":         "lll:ss",\n                "minute":         "lll",\n                "hour":           "lll",\n                "day":            "lll",\n                "week":           "lll",\n                "month":          "lll",\n                "quarter":        "lll",\n                "year":           "lll"\n            }\n            ')},getTaskForHistoryData:function(e,t,a){return new Promise((l,r)=>{vis.getHistory(e,{instance:t.historyAdapterInstance,count:parseInt(myMdwHelper.getNumberFromData(t.maxDataPoints,100)),step:1e3*parseInt(myMdwHelper.getNumberFromData(t.minTimeInterval,0)),aggregate:t.aggregate||"average",start:a,end:(new Date).getTime(),timeout:2e3},function(e,t){l(!e&&t?t:null)})})},getPreparedData:function(e,t,a){let l=[];return e&&(l=e.map(e=>({t:null!==e.ts&&void 0!==e.ts?e.ts:null,y:null!==e.val&&void 0!==e.val?e.val*myMdwHelper.getNumberFromData(t.attr("multiply"+a),1):null}))),l},registerChartAreaPlugin:function(){Chart.pluginService.register({beforeDraw:function(e,t){if(e.config.options.chartArea&&e.config.options.chartArea.backgroundColor){Chart.helpers;var a=e.chart.ctx,l=e.chartArea;a.save(),a.fillStyle=e.config.options.chartArea.backgroundColor,a.fillRect(l.left,l.top,l.right-l.left,l.bottom-l.top),a.restore()}}})}},vis.binds.materialdesign.colorScheme={get:function(e,t=1){try{let l={"scrounger.pie":["#44739e","#6dd600","#ff9800","#8e24aa","#ffeb3b","#d32f2f","#a65628"]};if(l["material.red"]=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c"].reverse(),l["material.pink"]=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f"].reverse(),l["material.purple"]=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c"].reverse(),l["material.deeppurple"]=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92"].reverse(),l["material.indigo"]=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e"].reverse(),l["material.blue"]=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1"].reverse(),l["material.lightblue"]=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"].reverse(),l["material.cyan"]=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"].reverse(),l["material.teal"]=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40"].reverse(),l["material.green"]=["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20"].reverse(),l["material.lightgreen"]=["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e"].reverse(),l["material.lime"]=["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717"].reverse(),l["material.yellow"]=["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17"].reverse(),l["material.amber"]=["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"].reverse(),l["material.orange"]=["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100"].reverse(),l["material.deeporange"]=["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c"].reverse(),l["material.brown"]=["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"].reverse(),l["material.grey"]=["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"].reverse(),l["material.bluegrey"]=["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"].reverse(),l["material.setOne"]=["#b71c1c","#0d47a1","#1b5e20","#4a148c","#e65100","#f57f17","#3e2723"],l["material.setTwo"]=["#c62828","#1565c0","#2e7d32","#6a1b9a","#ef6c00","#9e9d24","#4e342e"],l["material.setThree"]=["#d32f2f","#1976d2","#388e3c","#7b1fa2","#f57c00","#fbc02d","#5d4037"],l["brewer.SetOne"]=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],l["brewer.SetTwo"]=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],l["brewer.SetThree"]=["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],null!=myMdwHelper.getValueFromData(e,null)){let r=[],i=l[e],o=Math.ceil(t/i.length);for(var a=0;a<=o-1;a++)r=r.concat(i);return r}return l}catch(e){console.exception(`get: error: ${e.message}, stack: ${e.stack}`)}},preview:function(e){try{let e=vis.binds.materialdesign.colorScheme.get(),l=[];for(var t in e)if(e.hasOwnProperty(t)){let r=`<div style="display: flex; margin-top: 4px">\n                                        <label style="min-width: 180px; color: black">${t}:</label>`;for(var a=0;a<=e[t].length;a++)r+=`<div style="min-width: 30px; min-height: 4px; margin-left: 4px; background: ${e[t][a]}"></div>`;l.push(r+"</div>")}return l.join("")}catch(e){console.exception(`preview: error: ${e.message}, stack: ${e.stack}`)}},editorSelector:function(e){try{let t=vis.binds.materialdesign.colorScheme.get();return{input:'<input type="text" id="inspect_'+e+'" class="vis-edit-textbox"/>',init:function(e,a){$(this).autocomplete({minLength:0,source:function(e,a){var l=$.grep(Object.keys(t),function(t){return t.toLowerCase().includes(e.term.toLowerCase())});a(l)},select:function(e,t){$(this).val(t.item.value),$(this).trigger("change",t.item.value)}}).focus(function(){$(this).autocomplete("search","")}).autocomplete("instance")._renderItem=function(e,a){let l=t[a.label],r='<div style="display: flex; margin-top: 4px;">';for(var i=0;i<=l.length;i++)r+=`<div style="min-width: 20px; min-height: 4px; margin-left: 4px; background: ${l[i]}"></div>`;return r+="</div>",$("<li>").append("<a><span>"+a.label+"</span></a>").append(r).appendTo(e)}}}}catch(e){console.exception(`editorSelector: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.dialog={initialize:function(e,t=!1){try{let a=getValueFromData(e.title,""),l=getFontSize(e.titleTextSize),r=getValueFromData(e.buttonText,"");return`<div class="mdc-dialog"\n                        role="alertdialog"\n                        aria-modal="true"\n                        aria-labelledby="my-dialog-title"\n                        aria-describedby="my-dialog-content"\n                        style="z-index: ${getNumberFromData(e.z_index,1e3)}">\n                        <div class="mdc-dialog__container">\n                        <div class="mdc-dialog__surface">\n                            <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->\n                            <h2 class="mdc-dialog__title ${l.class}" id="my-dialog-title" style="${""===a?"display: none;":""}${l.style}" >${getValueFromData(e.title,"")}</h2>\n                            <div class="mdc-dialog__content" id="my-dialog-content">\n                                ${vis.editMode&&!t?`<div data-vis-contains="${e.contains_view}" class="vis-widget-body vis-view-container" style="position: relative"></div>`:""}\n                                <!-- vis container for view generated at runtime --!>\n                                \n                                ${t?`<iframe src="${e.src}" ${e.noSandbox?"":'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"'} style="position: relative; border: 0; padding: 0; margin: 0; width: 100%; height: 100%; ${e.scrollX?"overflow-x: scroll;":"overflow-x: hidden;"} ${e.scrollY?"overflow-y: scroll;":"overflow-y: hidden;"}" ${e.seamless?"seamless":""}></iframe>`:""}\n                            </div>\n                            <footer class="mdc-dialog__actions" ${""===r?'style="display: none"':""}>\n                            <button type="button" class="mdc-button mdc-dialog__button" ${vis.editMode?"":'data-mdc-dialog-action="close"'} >\n                            <span class="mdc-button__label">${r}</span>\n                            </button>\n                        </footer>\n                        </div>\n                        </div>\n                        <div class="mdc-dialog__scrim"></div>\n                    </div>`}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a=!1){try{setTimeout(function(){var l=$(e);let r=l.find(".mdc-dialog"),i=window.getComputedStyle(l.context,null).width,o=window.getComputedStyle(l.context,null).height;r.get(0).style.setProperty("--materialdesign-color-dialog-background",getValueFromData(t.colorBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-title-background",getValueFromData(t.colorTitleBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-title",getValueFromData(t.colorTitle,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-background",getValueFromData(t.colorButtonBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-text",getValueFromData(t.colorButtonText,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-hover",getValueFromData(t.colorButtonHover,""));const s=new mdc.dialog.MDCDialog(r.get(0));mdc.ripple.MDCRipple.attachTo(r.find(".mdc-button").get(0));s.escapeKeyAction="",s.scrimClickAction="",vis.editMode&&t.showInEditor?(r.find(".mdc-dialog__container").css("width","100%").css("height","100%"),r.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),r.css("position","relative"),r.find(".mdc-dialog__scrim").hide(),s.open()):vis.editMode||(r.find(".mdc-dialog__container").css("width",i.replace("px","")).css("height",o.replace("px","")),r.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),t.showInCenterOfScreen||r.css("position","absolute"),vis.states.bind(t.showDialogOid+".ts",function(e,a,l){let r=vis.states.attr(t.showDialogOid+".val");s.isOpen||!0!==r&&"true"!==r?!s.isOpen||!1!==r&&"false"!==r||s.close():s.open()}),vis.editMode||s.listen("MDCDialog:closing",function(){vis.setValue(t.showDialogOid,!1),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),s.listen("MDCDialog:opened",()=>{if(a)vis.binds.basic.iframeRefresh(r,t,this.view);else{let e=t.contains_view;vis.views[e]&&vis.renderView(e,e,!0,function(e){$("#visview_"+e).css("position","relative").appendTo(r.find(".mdc-dialog__content")).show().data("persistent",!0)})}}))},1)}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.drawer={initializeTopAppBar:function(e){try{let t="",a="",l="",r="";"standard"===e.topAppBarLayout?r="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",r="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",r="mdc-top-app-bar--short-fixed-adjust");let i=getValueFromData(e.topAppBarZ_index,"","z-index: ",";");return a=vis.editMode?`style="position: absolute;${i}"`:`style="position: fixed;${i}"`,"modal"!==e.drawerLayout&&"dismissible"!==e.drawerLayout||(l=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:a,contentLayout:r,headerButtonShow:l}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let r=[],i=[],o="",s="",n="",d="";return t(),a(),l(),{viewsList:r,drawerItemList:i.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=getValueFromData(e.drawerWidth,"","width: ","px;"),a="",l="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,l=`z-index: ${e.z_index-1};`);let r="";"modal"===e.drawerLayout?(s="mdc-drawer--modal",vis.editMode?r="position: absolute;":d=`<div class="mdc-drawer-scrim" style="${l}"></div>`):vis.editMode?(s="mdc-drawer--dismissible mdc-drawer--open",r="position: absolute;"):(s="mdc-drawer--dismissible mdc-drawer--open",r="position: fixed;"),n=`style="${t}${a}${r}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function l(){let t=getFontSize(e.listItemHeaderTextSize),a=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),l=getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),o=getFontSize(e.listItemTextSize),s=getFontSize(e.listSubItemTextSize),n=e.showLabels?"":"display: none;",d=e.showSubItemsLabels?"":"display: none;",m=getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),c=getValueFromData(e.backdropSubLabelBackgroundHeight,m,"height: ","%;"),u=0;for(var g=0;g<=e.count;g++){let b=getValueFromData(e.attr("headers"+g),null),y=getValueFromData(e.attr("labels"+g),e.attr("contains_view_"+g)),h=getValueFromData(e.attr("iconDrawer"+g),""),v="",f=!1,w="",F="";if(e.attr("contains_view_"+g)&&e.attr("contains_view_"+g).includes("|")){if(r.push(""),v=e.attr("contains_view_"+g).split("|"),v.length>0){f=!0;let t=getValueFromData(e.attr("labels"+g),null);if(null===t)y=e.attr("contains_view_"+g);else try{w=JSON.parse(t),y=w.itemText}catch{w="",y="Error: wrong format!"}let a=getValueFromData(e.attr("iconDrawer"+g),null);if(null!==a)try{F=JSON.parse(a),h=F.itemImage}catch{F=""}}}else r.push(e.attr("contains_view_"+g));let x=getListItemHeader(b,t);i.push(x);let D=getListItem(e.drawerItemLayout,u,h,f,!1,a),$="";"standard"===e.drawerItemLayout&&($=getListItemImage(h,a));let V=getListItemLabel(e.drawerItemLayout,u,y,f,o,n,e.colorSubItemToggleIcon,m,!1,e.listItemAlignment);if(i.push(`${D}${$}${V}</div>`),f){i.push('<nav class="mdc-list mdc-sub-list">');for(var p=0;p<=v.length-1;p++){r.push(v[p].trim()),u++;let t="";F&&F.subItems&&F.subItems.length>0&&(t=getValueFromData(F.subItems[p],""));let a="";a=w&&w.subItems&&w.subItems.length>0?getValueFromData(w.subItems[p],v[p]):v[p];let o=getListItem(e.drawerSubItemLayout,u,t,!1,!0,l),n="";"standard"===e.drawerSubItemLayout&&(n=getListItemImage(t,l));let m=getListItemLabel(e.drawerSubItemLayout,u,a,!1,s,d,"",c,!0,e.listSubItemAlignment);i.push(`${o}${n}${m}</div>`)}i.push("</nav>")}i.push(getListItemDivider(e.attr("dividers"+g),e.listItemDividerStyle)),u++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let i=$(e),o=i.parent().parent().get(0),s=i.context,n=i.parent().find(".mdc-top-app-bar").get(0),d=i.parent().find(".mdc-list").get(0);setTimeout(function(){if(i.parent().parent().css("left","0px"),i.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout&&i.parent().find(".mdc-top-app-bar").css("width",e)}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)}},1);let m=getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",m),d.style.setProperty("--materialdesign-color-drawer-sub-background",getValueFromData(t.colorDrawerSubBackground,m));let c=getValueFromData(t.colorDrawerItemBackground,m);d.style.setProperty("--materialdesign-color-list-item-background",c),d.style.setProperty("--materialdesign-color-sub-list-item-background",getValueFromData(t.colorDrawerSubItemBackground,c));let u=getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",getValueFromData(t.colorListSubItemSelected,u));let g=getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",g),d.style.setProperty("--materialdesign-color-sub-list-item-hover",getValueFromData(t.colorListSubItemHover,g));let p=getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",p),d.style.setProperty("--materialdesign-color-sub-list-item-text",getValueFromData(t.colorListSubItemText,p));let b=getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",b),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",getValueFromData(t.colorListSubItemTextSelected,b)),d.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,""));let y=getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",y),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",getValueFromData(t.colorDrawerbackdropSubLabelBackground,y));let h=getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",h),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,h)),n.style.setProperty("--mdc-theme-primary",getValueFromData(t.colorTopAppBarBackground,""));const v=new mdc.drawer.MDCDrawer(s),f=new mdc.topAppBar.MDCTopAppBar(n),w=new mdc.list.MDCList(d);w.listElements.map(e=>new mdc.ripple.MDCRipple(e));f.setScrollTarget(i.parent().find(".mdc-top-app-bar-content").get(0)),f.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(v.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left","0px"),i.parent().find(".drawer-frame-app-content").css("left","0px"),v.open=!v.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");v.open=!v.open,setTimeout(function(){"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)},250)}else v.open=!v.open});var a=vis.states.attr(t.oid+".val");function l(){if(t.showSelectedItemAsTitle){let e=i.parent().find(`span[id="listItem_${w.selectedIndex}"]`).text();i.parent().find(".mdc-top-app-bar__title").text(e)}}function r(e){let t=i.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}r(a),w.selectedIndex=a,l(),vis.states.bind(t.oid+".val",function(e,t,a){r(t),w.selectedIndex=t,l()}),i.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),w.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),l(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(v.open=!1))})}catch(e){console.exception(`mdcTopAppBarWithDrawer [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.list={initialize:function(e){try{let a=getValueFromData(e.listItemHeight,"","height: ","px !important;");"buttonToggle_readonly"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch_readonly"!==e.listType||(a+="cursor: default; pointer-events: none;");let l=getFontSize(e.listItemHeaderTextSize),r=getFontSize(e.listItemTextSize),i=getFontSize(e.listItemSubTextSize),o=getFontSize(e.listItemTextRightSize),s=getFontSize(e.listItemSubTextRightSize),n=getValueFromData(e.listImageHeight,"","height: ","px !important;"),d=getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),m=getValueFromData(e.rightTextWidth,"","","px"),c="",u="";"text"===e.listType?c=" mdc-list--non-interactive":"checkbox"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch"!==e.listType&&"switch_readonly"!==e.listType||(u='role="checkbox"');let g=[],p="";"card"===e.listLayout?p="materialdesign-list-card":"cardOutlined"===e.listLayout&&(p="materialdesign-list-card materialdesign-list-card--outlined");for(var t=0;t<=e.count;t++){let c=getValueFromData(e.attr("groupHeader"+t),null),p=getValueFromData(e.attr("label"+t),`Item ${t}`),b=getValueFromData(e.attr("subLabel"+t),""),y=getValueFromData(e.attr("listImage"+t),""),h=getValueFromData(e.attr("rightLabel"+t),""),v=getValueFromData(e.attr("rightSubLabel"+t),"");g.push(getListItemHeader(c,l));let f=getListItem("standard",t,"",!1,!1,a,`data-oid="${e.attr("oid"+t)}"`,u).replace(" mdc-list-item--activated",""),w="";w=""===b?getListItemLabel("standard",t,p,!1,r,"","","",!1,e.listItemAlignment):getListItemTextElement(p,b,r,i,e.listItemAlignment);let F="";""===v?(F=getListItemLabel("standard",t,h,!1,o,"","",""),F=$($.parseHTML(F)),F.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta")):(F=getListItemTextElement(h,v,o,s),F=$($.parseHTML(F)),F.addClass("mdc-list-item__meta"),F.find(".mdc-list-item__primary-text").css("justify-content","flex-end").css("width","auto").addClass("materialdesign-list-item-text-right"),F.find(".mdc-list-item__secondary-text").addClass("materialdesign-list-item-text-right")),F.css("text-align","right").css("width",m);let x=getListItemImage(y,`${n}${d}`),D="";"checkbox"===e.listType||"checkbox_readonly"===e.listType?D=`<div class="mdc-checkbox ${"checkbox_readonly"===e.listType?"mdc-checkbox--disabled":""} mdc-list-item__meta">\n                                        <input type="checkbox" class="mdc-checkbox__native-control" tabindex="-1" data-oid="${e.attr("oid"+t)}" itemindex="${t}" />\n                                        <div class="mdc-checkbox__background">\n                                            <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">\n                                                <path class="mdc-checkbox__checkmark-path" fill="none" stroke="white" d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>\n                                            </svg>\n                                        </div>\n                                    </div>`:"switch"!==e.listType&&"switch_readonly"!==e.listType||(D=`<div class="mdc-switch ${"switch_readonly"===e.listType?"mdc-switch--disabled":""} mdc-list-item__meta">\n                                        <div class="mdc-switch__track"></div>\n                                        <div class="mdc-switch__thumb-underlay">\n                                            <div class="mdc-switch__thumb">\n                                                <input type="checkbox" id="basic-switch" class="mdc-switch__native-control" role="switch" data-oid="${e.attr("oid"+t)}" itemindex="${t}">\n                                            </div>\n                                        </div>\n                                    </div>`),g.push(`${f}${x}${w}${D}${F.get(0).outerHTML}</div>`),g.push(getListItemDivider(e.attr("dividers"+t),e.listItemDividerStyle))}return{itemList:g.join(""),listLayout:p,nonInteractive:c}}catch(e){console.exception(`initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let r=$(e),i=r.context;const o=new mdc.list.MDCList(i),s=o.getDefaultFoundation().adapter_;o.listElements.map(e=>new mdc.ripple.MDCRipple(e));i.style.setProperty("--materialdesign-color-list-item-background",getValueFromData(t.listItemBackground,"")),i.style.setProperty("--materialdesign-color-list-item-hover",getValueFromData(t.colorListItemHover,"")),i.style.setProperty("--materialdesign-color-list-item-selected",getValueFromData(t.colorListItemSelected,"")),i.style.setProperty("--materialdesign-color-list-item-text",getValueFromData(t.colorListItemText,"")),i.style.setProperty("--materialdesign-color-list-item-text-activated",getValueFromData(t.colorListItemText,"")),i.style.setProperty("--materialdesign-color-list-item-text-secondary",getValueFromData(t.colorListItemTextSecondary,"")),i.style.setProperty("--materialdesign-color-list-item-text-right",getValueFromData(t.colorListItemTextRight,"")),i.style.setProperty("--materialdesign-color-list-item-text-secondary-right",getValueFromData(t.colorListItemTextSecondaryRight,"")),i.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),i.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,"")),i.style.setProperty("--mdc-theme-secondary",getValueFromData(t.colorCheckBox,"")),vis.editMode||o.listen("MDCList:action",function(e){let a=e.detail.index;if("text"!==t.listType&&vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"checkbox"===t.listType||"switch"===t.listType){let e=s.isCheckboxCheckedAtIndex(a);vis.setValue(t.attr("oid"+a),e),l(a,e)}else if("buttonToggle"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");vis.setValue(t.attr("oid"+a),!e),l(a,!e)
}else if("buttonState"===t.listType){let e=t.attr("listTypeButtonStateValue"+a);vis.setValue(t.attr("oid"+a),e)}else"buttonNav"===t.listType?vis.changeView(t.attr("listTypeButtonNav"+a)):"buttonLink"===t.listType&&window.open(t.attr("listTypeButtonLink"+a))});let n="switch"===t.listType||"switch_readonly"===t.listType?r.find(".mdc-switch").length:o.listElements.length;for(var a=0;a<=n-1;a++)if("checkbox"===t.listType||"checkbox_readonly"===t.listType||"switch"===t.listType||"switch_readonly"===t.listType){if("switch"!==t.listType&&"switch_readonly"!==t.listType||new mdc.switchControl.MDCSwitch(r.find(".mdc-switch").get(a)),"checkbox"===t.listType||"checkbox_readonly"===t.listType){let e=new mdc.checkbox.MDCCheckbox(r.find(".mdc-checkbox").get(a));"checkbox_readonly"===t.listType&&(e.disabled=!0)}let e=vis.states.attr(t.attr("oid"+a)+".val");s.setCheckedCheckboxOrRadioAtIndex(a,e),l(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let i=r.find('input[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');i.each(function(e){let a=i.eq(e).attr("itemindex");s.setCheckedCheckboxOrRadioAtIndex(a,t),l(a,t)})})}else if("buttonToggle"===t.listType||"buttonToggle_readonly"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");l(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let i=r.parent().find('div[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');i.each(function(e){let a=parseInt(i.eq(e).attr("id").replace("listItem_",""));l(a,t)})})}function l(e,a){let l=r.find(`div[id="listItem_${e}"]`),i=l.find(".mdc-list-item__graphic");!0===a?(l.css("background",getValueFromData(t.listItemBackgroundActive,"")),i.attr("src",getValueFromData(t.attr("listImageActive"+e),getValueFromData(t.attr("listImage"+e),"")))):(l.css("background",getValueFromData(t.listItemBackground,"")),i.attr("src",getValueFromData(t.attr("listImage"+e),"")))}}catch(e){console.exception(`handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.roundslider={handle:function(e,t){try{let l=$(e),r=l.attr("data-oid-working"),i=vis.binds.materialdesign.helper,o=vis.states.attr(t.oid+".val"),s=getNumberFromData(t.min,0),n=getValueFromData(t.valueLabelMin,null),d=getNumberFromData(t.max,100),m=getValueFromData(t.valueLabelMax,null),c=getValueFromData(t.valueLabelUnit,""),u=getNumberFromData(t.valueLessThan,s),g=getValueFromData(t.textForValueLessThan,null),p=getNumberFromData(t.valueGreaterThan,d),b=getValueFromData(t.textForValueGreaterThan,null),y=0;!0!==t.showValueLabel&&"true"!==t.showValueLabel||(y=t.valueLabelWidth),l.append(`<round-slider class="materialdesign-round-slider-element"\n                            value=${o} \n                            max="${d}" \n                            min="${s}"\n                            step="${getNumberFromData(t.step,1)}"\n                            startAngle="${getNumberFromData(t.startAngle,135)}"\n                            arcLength="${getNumberFromData(t.arcLength,270)}"\n                            handleSize="${getNumberFromData(t.handleSize,6)}"\n                            handleZoom="${getNumberFromData(t.handleZoom,1.5)}"\n                            ${!0===t.rtl?'rtl = "true"':""}\n                            style="position: absolute;"\n                            >\n                            </round-slider>\n                            \n                            ${t.showValueLabel?`<label class="labelValue" \n                                    style="position: relative; \n                                    text-align: center;\n                                    display: flex;\n                                    justify-content: center;\n                                    pointer-events: none;\n                                    top: ${getNumberFromData(t.valueLabelVerticalPosition,45)}%; \n                                    color: ${getValueFromData(t.valueLabelColor,"#44739e")};">\n                                        ${o} ${c}\n                                </label>`:""}\n                            `);let h=l.find(".materialdesign-round-slider-element");function a(e=!0,a=0){!1!==vis.states.attr(r+".val")&&"false"!==vis.states.attr(r+".val")&&vis.states.attr(r+".val")||(e&&(a=vis.states.attr(t.oid+".val"),h.attr("value",a)),a<=s&&null!=n?l.find(".labelValue").html(n):a>s&&a<=u&&null!=g?l.find(".labelValue").html(g):a>=p&&a<d&&null!=b?l.find(".labelValue").html(b):a>=d&&null!=m?l.find(".labelValue").html(m):l.find(".labelValue").html(`${a} ${c}`))}h.get(0).style.setProperty("--round-slider-path-width",getNumberFromData(t.sliderWidth,3)),h.get(0).style.setProperty("background",getValueFromData(t.colorSliderBg,"")),h.get(0).style.setProperty("--round-slider-path-color",getValueFromData(t.colorAfterThumb,"")),h.get(0).style.setProperty("--round-slider-bar-color",getValueFromData(t.colorBeforeThumb,"#44739e")),h.get(0).style.setProperty("--round-slider-handle-color",getValueFromData(t.colorThumb,"")),a(),vis.states.bind(t.oid+".val",function(e,t,l){a()}),vis.states.bind(r+".val",function(e,t,l){a()}),h.bind("value-changing",function(e){a(!1,e.target.__value)}),h.bind("value-changed",function(e){let l=parseFloat(e.target.__value);!1!==vis.states.attr(r+".val")&&"false"!==vis.states.attr(r+".val")&&vis.states.attr(r+".val")||(vis.setValue(t.oid,l),a())}),l.find(".materialdesign-round-slider-element").on("touchstart mousedown",function(e){i.vibrate(t.vibrateOnMobilDevices)})}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.select={initialize:function(e,t=!1){try{let l=[],r=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),i=getFontSize(e.listItemTextSize),o=getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),s=getValueFromData(e.menuWidth,"","width: ","px;"),n="",d="",m="";"standard"===e.layout?(n=`<div class="mdc-select" style="width: 100%; z-index: ${getNumberFromData(e.z_index,0)}">`,d="filled_enhanced filled_enhanced-label",m=`<span class="mdc-floating-label mdc-floating-label--float-above">${getValueFromData(e.hintText,"")}</span>\n                                <div class="mdc-line-ripple"></div>`):(n='<div class="mdc-select mdc-select--outlined" style="width: 100%;">',d="shaped_filled_enhanced shaped_filled_enhanced-label",m=`<div class="mdc-notched-outline">\n                                    <div class="mdc-notched-outline__leading"></div>\n                                    <div class="mdc-notched-outline__notch">\n                                        <label class="mdc-floating-label">${getValueFromData(e.hintText,"")}</label>\n                                    </div>\n                                    <div class="mdc-notched-outline__trailing"></div>\n                                </div>`);let c="",u=[],g="";if(t){let t=getValueFromData(e.image,null),a=getValueFromData(e.imageTrue,null);null==t&&null==a||(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),c=`<img class="mdc-select__icon" tabindex="0" role="button" src="${t}" />`),u.push(`${getListItem("standard",0,"",!1,!1,r,"","",!1)}\n                                                ${null!=t?getListItemImage(t,`${r}${o}`):""}\n                                                ${getListItemLabel("standard",0,getValueFromData(e.text_false,"Item false"),!1,i,"",0)}</div>`),u.push(`${getListItem("standard",1,"",!1,!1,r,"","",!0)}\n                                                ${null!=a?getListItemImage(a,`${r}${o}`):""}\n                                                ${getListItemLabel("standard",1,getValueFromData(e.text_true,"Item true"),!1,i,"",0)}</div>`)}else{let t=!1,l="";for(var a=0;a<=e.values;a++){let s=getValueFromData(e.attr("menuIcon"+a),null);if(u.push(`${getListItem("standard",a,"",!1,!1,r,"","",getValueFromData(e.attr("value"+a),""))}\n                                                ${null!=s?getListItemImage(s,`${r}${o}`):""}\n                                                ${$($.parseHTML(getListItemLabel("standard",0,getValueFromData(e.attr("label"+a),getValueFromData(e.attr("value"+a),`no value for Item ${a}`)),!1,i,"",0))).css("width","").get(0).outerHTML}`),null!==s&&(t=!0,l=s),e.showValueOnRight){let t=getFontSize(e.valueRightFontsize);g=getListItemLabel("standard",a,getValueFromData(e.attr("value"+a))+getValueFromData(e.valueRightAppendix,""),!1,t,"","",""),g=$($.parseHTML(g)).css("width","auto"),g=g.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta").get(0).outerHTML,u.push(g)}u.push("</div>")}t&&(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),c=`<img class="mdc-select__icon" tabindex="0" role="button" src="${l}" />`)}let p=getFontSize(e.selectTextSize);return l.push(`${n}\n                                        <div class="mdc-select__anchor">\n                                            ${c}\n                                            <i class="mdc-select__dropdown-icon"></i>\n                                            <div id="filled_enhanced" \n                                                class="mdc-select__selected-text ${p.class}" \n                                                role="button" \n                                                aria-haspopup="listbox" \n                                                aria-labelledby="${d}"\n                                                style="${p.style}; font-family: ${getValueFromData(e.selectTextFont,"")};">\n                                            </div>\n                                            ${m}\n                                        </div>\n                                        <div class="mdc-select__menu mdc-menu mdc-menu-surface" style="${s}; z-index: ${getNumberFromData(e.z_index,0)}">\n                                            <ul class="mdc-list">\n                                                ${u.join("")}\n                                            </ul>\n                                        </div>\n                                        \n                                    </div>`),l.join("")}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a){try{setTimeout(function(){function l(e){if(a)e?(s.selectedIndex=1,n.selectedIndex=1,r.find(".mdc-select__icon").attr("src",getValueFromData(t.imageTrue,""))):(s.selectedIndex=0,n.selectedIndex=0,r.find(".mdc-select__icon").attr("src",getValueFromData(t.image,"")));else for(var l=0;l<=t.values;l++)if(e.toString()===getValueFromData(t.attr("value"+l),"").toString()){s.selectedIndex=l,n.selectedIndex=l,r.find(".mdc-select__icon").attr("src",getValueFromData(t.attr("menuIcon"+l),""));break}}var r=$(e);let i=r.find(".mdc-select").get(0),o=r.find(".mdc-list").get(0);const s=new mdc.select.MDCSelect(i),n=new mdc.list.MDCList(o);n.listElements.map(e=>new mdc.ripple.MDCRipple(e));i.style.setProperty("--materialdesign-color-select-background",getValueFromData(t.selectBackground,"")),i.style.setProperty("--materialdesign-color-select-background-hover",getValueFromData(t.selectBackgroundHover,"")),i.style.setProperty("--materialdesign-color-select-hint",getValueFromData(t.selectHintTextColor,"")),i.style.setProperty("--materialdesign-color-select-hint_selected",getValueFromData(t.selectHintTextColorSelected,"")),i.style.setProperty("--materialdesign-color-select-border",getValueFromData(t.selectBorderColor,"")),i.style.setProperty("--materialdesign-color-select-border-selected",getValueFromData(t.selectBorderColorSelected,"")),i.style.setProperty("--materialdesign-color-select-text",getValueFromData(t.selectTextColor,""));let d=getValueFromData(t.colorDrawerBackground,"");o.style.setProperty("--materialdesign-color-drawer-background",d),o.style.setProperty("--materialdesign-color-list-item-background",getValueFromData(t.colorDrawerItemBackground,d)),o.style.setProperty("--materialdesign-color-list-item-selected",getValueFromData(t.colorListItemSelected,"")),o.style.setProperty("--materialdesign-color-list-item-hover",getValueFromData(t.colorListItemHover,"")),o.style.setProperty("--materialdesign-color-list-item-text",getValueFromData(t.colorListItemText,"")),o.style.setProperty("--materialdesign-color-list-item-text-activated",getValueFromData(t.colorListItemTextSelected,"")),o.style.setProperty("--materialdesign-color-list-item-text-right",getValueFromData(t.colorListItemTextRight,"")),l(vis.states.attr(t.oid+".val")),vis.states.bind(t.oid+".val",function(e,t,a){l(t)}),vis.editMode||s.listen("MDCSelect:change",function(){a?vis.setValue(t.oid,"true"===s.value):vis.setValue(t.oid,s.value),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),r.find(".mdc-select").click(function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)})},1)}catch(e){console.exception(`handleBoolean: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.slider=function(e,t){try{let a=$(e),l=a.attr("data-oid-working"),r=vis.binds.materialdesign.helper,i="#44739e",o=getValueFromData(t.min,0),s=getValueFromData(t.valueLabelMin,null),n=getValueFromData(t.max,100),d=getValueFromData(t.valueLabelMax,null),m=getValueFromData(t.valueLabelUnit,""),c=getValueFromData(t.valueLessThan,o),u=getValueFromData(t.textForValueLessThan,null),g=getValueFromData(t.valueGreaterThan,n),p=getValueFromData(t.textForValueGreaterThan,null);a.append(`\n            <div class="materialdesign-vuetifySlider" style="width: 100%; height: 100%;">\n                <div class="v-row" style="align-items: center">\n                    <v-slider\n                        v-model="value"\n                        :vertical="vertical"\n                        :min="min"\n                        :max="max"\n                        :step="step"\n                        :ticks="ticks"\n                        :tick-size="tickSize"\n                        :tick-labels="tickLabels"\n                        :thumb-label="thumbLabel"\n                        :thumb-size="thumbSize"\n                        :loader-height="loaderHeight"\n                        :track-fill-color="trackFillColor"\n                        :thumb-color="thumbColor"\n                        :track-color="trackColor"                        \n                        always-dirty\n                        hide-details\n                        ${null!==getValueFromData(t.prepandText,null)?`label="${t.prepandText}"`:""}\n                        ${t.readOnly?"disabled":""}\n                        @change="changeEvent"\n                        @input="inputEvent"\n                    >\n                    </v-slider>\n                    ${t.showValueLabel?`<span class="slider-value" style="width: ${getNumberFromData(t.valueLabelWidth,0)}px; text-align:right; white-space: nowrap;">0</span>`:""}\n                </div>\n            </div>`);let b=!1;"yes"===getValueFromData(t.showTicks,"no")&&(b=!0),"always"===getValueFromData(t.showTicks,"no")&&(b="always");let y=!1;"yes"===getValueFromData(t.showThumbLabel,"no")&&(y=!0),"always"===getValueFromData(t.showThumbLabel,"no")&&(y="always"),r.waitForElement(a,".materialdesign-vuetifySlider",function(){r.waitForElement($("body"),"#materialdesign-vuetify-container",function(){function e(e=!0,r=0){!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||(e&&(r=vis.states.attr(t.oid+".val"),h.value=r),r<=o&&null!=s?(a.find(".slider-value").html(s),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(s)):r>o&&r<=c&&null!=u?(a.find(".slider-value").html(u),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(u)):r>=g&&r<n&&null!=p?(a.find(".slider-value").html(p),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(p)):r>=n&&null!=d?(a.find(".slider-value").html(d),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(d)):(a.find(".slider-value").html(`${r} ${m}`),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(`${r} ${m}`)))}let h=new Vue({el:a.find(".materialdesign-vuetifySlider").get(0),vuetify:new Vuetify({rtl:t.reverseSlider}),data:()=>({value:vis.states.attr(t.oid+".val"),vertical:"horizontal"!==getValueFromData(t.orientation,"horizontal"),min:o,max:n,step:getNumberFromData(t.step,1),ticks:b,tickSize:getNumberFromData(t.tickSize,1),tickLabels:null!==getValueFromData(t.tickLabels,null)?t.tickLabels.split(","):[],thumbLabel:y,thumbSize:getNumberFromData(t.thumbSize,32),loaderHeight:"30px",trackFillColor:getValueFromData(t.colorBeforeThumb,i),thumbColor:getValueFromData(t.colorThumb,i),trackColor:getValueFromData(t.colorAfterThumb,"rgba(161, 161, 161, 0.26)")}),mounted:function(){},methods:{changeEvent(a){!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||vis.setValue(t.oid,a),e()},inputEvent(t){e(!1,t)}}});if(a.find(".materialdesign-vuetifySlider").on("touchstart mousedown",function(){r.vibrate(t.vibrateOnMobilDevices)}),"vertical"===getValueFromData(t.orientation,"horizontal")){let e=window.getComputedStyle(a.context,null).height.replace("px",""),t=a.find(".v-slider--vertical");e=e-t.css("margin-top").replace("px","")-t.css("margin-bottom").replace("px",""),t.css("height",e+"px")}a.context.style.setProperty("--vue-slider-thumb-label-font-color",getValueFromData(t.thumbFontColor,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-family",getValueFromData(t.thumbFontFamily,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-size",getValueFromData(t.thumbFontSize,"12","","px")),a.find(".v-slider__thumb-label").css("background-color",getValueFromData(t.thumbBackgroundColor,getValueFromData(t.colorThumb,i))),a.context.style.setProperty("--vue-slider-tick-before-color",getValueFromData(t.tickColorBefore,"")),a.context.style.setProperty("--vue-slider-tick-after-color",getValueFromData(t.tickColorAfter,"")),a.find(".v-slider__thumb-container").css("height","0px"),"knobMedium"===t.knobSize&&a.find(".v-slider__thumb").addClass("medium-size"),"knobBig"===t.knobSize&&a.find(".v-slider__thumb").addClass("big-size"),e(),vis.states.bind(t.oid+".val",function(t,a,l){e()}),vis.states.bind(l+".val",function(t,a,l){e()})})})}catch(e){console.exception(`vertical: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.table={initialize:function(e){try{let a=[],l=getFontSize(e.headerTextSize),r="";if("card"===e.tableLayout?r="materialdesign-list-card":"cardOutlined"===e.tableLayout&&(r="materialdesign-list-card materialdesign-list-card--outlined"),a.push(`<div class="mdc-data-table ${r}" style="width: 100%;">\n                                    <table class="mdc-data-table__table" aria-label="Material Design Widgets Table">`),a.push(`<thead>\n                                    <tr class="mdc-data-table__header-row" style="height: ${null!==getNumberFromData(e.headerRowHeight,null)?e.headerRowHeight+"px":"1px"};">`),e.showHeader)for(var t=0;t<=e.countCols;t++)e.attr("showColumn"+t)&&a.push(`<th class="mdc-data-table__header-cell ${l.class}" \n                                            colIndex="${t}" \n                                            role="columnheader" \n                                            scope="col" \n                                            style="text-align: ${e.attr("textAlign"+t)};\n                                                ${l.style}; \n                                                padding-left: ${getNumberFromData(e.attr("padding_left"+t),8)}px; \n                                                padding-right: ${getNumberFromData(e.attr("padding_right"+t),8)}px; \n                                                font-family: ${getValueFromData(e.headerFontFamily,"")};\n                                                ${null!==getNumberFromData(e.attr("columnWidth"+t),null)?`width: ${e.attr("columnWidth"+t)}px;`:""};">\n                                                    ${getValueFromData(e.attr("label"+t),"col "+t)}\n                                            </th>`);return a.push("</tr>\n                            </thead>"),a.push('<tbody class="mdc-data-table__content">'),null!==getValueFromData(e.oid,null)?a.push(vis.binds.materialdesign.table.getContentElements(vis.states.attr(e.oid+".val"),e)):a.push(vis.binds.materialdesign.table.getContentElements(e.dataJson,e)),a.push("</tbody>"),a.push("</table>\n                            </div>"),a.join("")}catch(e){console.exception(`initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t){try{setTimeout(function(){let a=$(e),l=a.find(".mdc-data-table").get(0);l.style.setProperty("--materialdesign-color-table-background",getValueFromData(t.colorBackground,"")),l.style.setProperty("--materialdesign-color-table-border",getValueFromData(t.borderColor,"")),l.style.setProperty("--materialdesign-color-table-header-row-background",getValueFromData(t.colorHeaderRowBackground,"")),l.style.setProperty("--materialdesign-color-table-header-row-text-color",getValueFromData(t.colorHeaderRowText,"")),l.style.setProperty("--materialdesign-color-table-row-background",getValueFromData(t.colorRowBackground,"")),l.style.setProperty("--materialdesign-color-table-row-text-color",getValueFromData(t.colorRowText,"")),l.style.setProperty("--materialdesign-color-table-row-divider",getValueFromData(t.dividers,""));new mdc.dataTable.MDCDataTable(l);vis.states.bind(t.oid+".val",function(e,l,r){a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(l,t))}),a.find(".mdc-data-table__header-cell").click(function(e){function l(e,t,a){return e.sort(function(e,l){var r=e[t],i=l[t];return a?r<i?-1:r>i?1:0:r>i?-1:r<i?1:0})}let r=$(this).attr("colIndex"),i=!0,o=[];o=null!==getValueFromData(t.oid,null)?vis.binds.materialdesign.table.getJsonData(vis.states.attr(t.oid+".val"),t):JSON.parse(t.dataJson);let s=null!==getValueFromData(t.attr("sortKey"+r),null)?t.attr("sortKey"+r):Object.keys(o[0])[r];$(this).attr("sort")?"ASC"===$(this).attr("sort")?(i=!1,$(this).attr("sort","DESC"),$(this).text().includes("▾")||$(this).text().includes("▴")?$(this).text($(this).text().replace("▾","▴")):$(this).text($(this).text()+"▴")):(i=!0,$(this).attr("sort","ASC"),$(this).text().includes("▾")||$(this).text().includes("▴")?$(this).text($(this).text().replace("▴","▾")):$(this).text($(this).text()+"▾")):(i=!0,$(this).attr("sort","ASC"),$(this).text($(this).text()+"▾")),$(".mdc-data-table__header-cell").each(function(){$(this).attr("colIndex")!==r&&$(this).text($(this).text().replace("▴","").replace("▾",""))}),a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(null,t,l(o,s,i)))})},1)}catch(e){console.exception(`handle: error: ${e.message}, stack: ${e.stack}`)}},getContentElements:function(e,t,a=null){let l=[];if(null===a&&(a=vis.binds.materialdesign.table.getJsonData(e,t)),null!=a){for(var r=0;r<=a.length-1;r++){if(l.push(`<tr class="mdc-data-table__row" style="height: ${null!==getNumberFromData(t.rowHeight,null)?t.rowHeight+"px":"1px"};">`),a[r]){let e=Object.keys(a[r]).length-1>t.countCols?t.countCols:Object.keys(a[r]).length-1;for(var i=0;i<=e;i++)if(t.attr("showColumn"+i)){let e=getFontSize(t.attr("colTextSize"+i));l.push(o(i,Object.values(a[r])[i],e,a[r]))}}l.push("</tr>")}function o(e,a,l,r=null){let i=getValueFromData(t.attr("prefix"+e),""),o=getValueFromData(t.attr("suffix"+e),"");if(null!=r){function s(e,t){let a=e.match(/(#\[obj\..*?\])/g);if(a&&a.length>0)for(var l=0;l<=a.length-1;l++){let r=a[l].replace("#[obj.","").replace("]","");e=r&&t[r]?e.replace(a[l],t[r]):e.replace(a[l],"")}return e}""!==i&&(i=s(i,r)),""!==o&&(o=s(o,r))}return"image"===t.attr("colType"+e)&&(a=`<img src="${a}" style="height: auto; vertical-align: middle; width: ${getValueFromData(t.attr("imageSize"+e),"","","px;")}">`),`<td class="mdc-data-table__cell ${l.class}" \n                            style="\n                            text-align: ${t.attr("textAlign"+e)};${l.style}; \n                            padding-left: ${getNumberFromData(t.attr("padding_left"+e),8)}px; \n                            padding-right: ${getNumberFromData(t.attr("padding_right"+e),8)}px; \n                            color: ${getValueFromData(t.attr("colTextColor"+e),"")}; \n                            font-family: ${getValueFromData(t.attr("fontFamily"+e),"")};\n                            white-space: ${t.attr("colNoWrap"+e)?"nowrap":"unset"};\n                            ">\n                                ${i}${a}${o}\n                        </td>`}return l.join("")}},getJsonData:function(e,t){let a=[];if(e&&"string"==typeof e)try{a=JSON.parse(e)}catch(t){console.error(`input: ${e}, error: ${t.message}`)}else if(a=e,!Array.isArray(a)){a=Object.keys(a).map(function(e){return a[e]});let e=[];for(var l=0;l<=Object.keys(a).length-1;l++)a[l]._data&&e.push(a[l]._data);a=e}return a}},vis.binds.materialdesign.topappbarnav={initializeTopAppBar:function(e){try{let t="",a=getValueFromData(e.topAppBarZ_index,"","z-index: ",";"),l=`style="${a}"`,r="",i="";return"standard"===e.topAppBarLayout?i="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",i="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",i="mdc-top-app-bar--short-fixed-adjust"),"modal"===e.drawerLayout&&(r=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:l,contentLayout:i,headerButtonShow:r}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let r=[],i=[],o="",s="",n="",d="";return t(),a(),l(),{viewsList:r,drawerItemList:i.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=getValueFromData(e.drawerWidth,"","width: ","px;"),a="",l="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,l=`z-index: ${e.z_index-1};`),"modal"===e.drawerLayout?(s="mdc-drawer--modal",d=`<div class="mdc-drawer-scrim" style="${l}"></div>`):s="mdc-drawer--dismissible mdc-drawer--open",n=`style="${t}${a}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function l(){let t=getFontSize(e.listItemHeaderTextSize),a=getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),l=getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),r=getFontSize(e.listItemTextSize),o=getFontSize(e.listSubItemTextSize),s=e.showLabels?"":"display: none;",n=e.showSubItemsLabels?"":"display: none;",d=getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),m=getValueFromData(e.backdropSubLabelBackgroundHeight,d,"height: ","%;"),c=0;for(var u=0;u<=e.navItemCount;u++){let p=getValueFromData(e.attr("headers"+u),null),b=getValueFromData(e.attr("labels"+u),"Menu Item"),y=getValueFromData(e.attr("iconDrawer"+u),""),h=getNumberFromData(e.attr("submenuCounts_"+u),0),v=!1,f="",w="";if(h>0){v=!0;let t=getValueFromData(e.attr("labels"+u),null);if(null===t)b="Menu Item";else try{f=JSON.parse(t),b=f.itemText}catch{f="",b="Error: wrong format!"}let a=getValueFromData(e.attr("iconDrawer"+u),null);if(null!==a)try{w=JSON.parse(a),y=w.itemImage}catch{w=""}}let F=getListItemHeader(p,t);i.push(F);let x=getListItem(e.drawerItemLayout,c,y,v,!1,a),D="";"standard"===e.drawerItemLayout&&(D=getListItemImage(y,a)),e.showIndexNum&&(b=`[${c}] ${b}`);let $=getListItemLabel(e.drawerItemLayout,c,b,v,r,s,e.colorSubItemToggleIcon,d,!1,e.listItemAlignment);if(i.push(`${x}${D}${$}</div>`),v){i.push('<nav class="mdc-list mdc-sub-list">');for(var g=0;g<=h-1;g++){c++;let t="";w&&w.subItems&&w.subItems.length>0&&(t=getValueFromData(w.subItems[g],""));let a="";a=f&&f.subItems&&f.subItems.length>0?getValueFromData(f.subItems[g],"Menu SubItem"):"Menu SubItem",e.showIndexNum&&(a=`[${c}] ${a}`);let r=getListItem(e.drawerSubItemLayout,c,t,!1,!0,l),s="";"standard"===e.drawerSubItemLayout&&(s=getListItemImage(t,l));let d=getListItemLabel(e.drawerSubItemLayout,c,a,!1,o,n,"",m,!0,e.listSubItemAlignment);i.push(`${r}${s}${d}</div>`)}i.push("</nav>")}i.push(getListItemDivider(e.attr("dividers"+u),e.listItemDividerStyle)),c++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let i=$(e),o=i.parent().parent().get(0),s=i.context,n=i.parent().find(".mdc-top-app-bar").get(0),d=i.parent().find(".mdc-list").get(0);setTimeout(function(){if(i.parent().parent().css("left","0px"),i.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode&&i.parent().find(".mdc-top-app-bar").css("position","relative")}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode?i.parent().find(".mdc-top-app-bar").css("position","relative"):i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)}},1);let m=getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",m),d.style.setProperty("--materialdesign-color-drawer-sub-background",getValueFromData(t.colorDrawerSubBackground,m));let c=getValueFromData(t.colorDrawerItemBackground,m);d.style.setProperty("--materialdesign-color-list-item-background",c),d.style.setProperty("--materialdesign-color-sub-list-item-background",getValueFromData(t.colorDrawerSubItemBackground,c));let u=getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",getValueFromData(t.colorListSubItemSelected,u));let g=getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",g),d.style.setProperty("--materialdesign-color-sub-list-item-hover",getValueFromData(t.colorListSubItemHover,g));let p=getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",p),d.style.setProperty("--materialdesign-color-sub-list-item-text",getValueFromData(t.colorListSubItemText,p));let b=getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",b),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",getValueFromData(t.colorListSubItemTextSelected,b)),d.style.setProperty("--materialdesign-color-list-item-header",getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",getValueFromData(t.colorListItemDivider,""));let y=getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",y),
d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",getValueFromData(t.colorDrawerbackdropSubLabelBackground,y));let h=getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",h),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,h)),n.style.setProperty("--mdc-theme-primary",getValueFromData(t.colorTopAppBarBackground,""));const v=new mdc.drawer.MDCDrawer(s),f=new mdc.topAppBar.MDCTopAppBar(n),w=new mdc.list.MDCList(d);w.listElements.map(e=>new mdc.ripple.MDCRipple(e));f.setScrollTarget(i.parent().find(".mdc-top-app-bar-content").get(0)),f.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(v.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left","0px"),i.parent().find(".drawer-frame-app-content").css("left","0px"),v.open=!v.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");v.open=!v.open,setTimeout(function(){"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)},250)}else v.open=!v.open});var a=vis.states.attr(t.oid+".val");function l(){if(t.showSelectedItemAsTitle){let e=i.parent().find(`span[id="listItem_${w.selectedIndex}"]`).text();i.parent().find(".mdc-top-app-bar__title").text(e)}}function r(e){let t=i.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}r(a),w.selectedIndex=a,l(),vis.states.bind(t.oid+".val",function(e,t,a){r(t),w.selectedIndex=t,l()}),i.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),w.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),l(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(v.open=!1))})}catch(e){console.exception(`mdcTopAppBarWithDrawer [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.views={column:function(e,t){try{let r=$(e),i=(vis.binds.materialdesign.helper,getNumberFromData(t.countCols,0)+1),o=[],s="";for(var a=0;a<=i-1;a++){o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column" \n                        style="min-width: ${getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${i}) !important;">\n                        <div class="materialdesign-column-views-container-column-view">\n                `);let e=getValueFromData(t.attr("viewsInColumn"+a),"").split("|"),r=getValueFromData(t.attr("viewsInColumnHeight"+a),"").split("|");for(var l=0;l<=e.length-1;l++){let n=`col_${a}_view_${l}`;o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column-item" \n                        id="${n}" \n                        style="min-width: ${getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${i}) !important; height: ${getNumberFromData(r[l],100)}px">\n                            ${vis.editMode?'<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e;"></div>':""}\n                            <div data-vis-contains="${e[l]}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                    `),s=n}o.push("</div></div>")}r.append(`\n                <div class="materialdesign-column-views-container">\n                    ${o.join("")}\n                </div>\n            `)}catch(e){console.exception(`column: error: ${e.message}, stack: ${e.stack}`)}},masonry:function(e,t){try{let l=$(e),r=[],i=getNumberFromData(t.countCols,3);l.context.style.setProperty("--materialdesign-masonry-gaps",getNumberFromData(t.masnoryGaps,0)+"px");for(var a=0;a<=t.countViews;a++){let e=getValueFromData(t.attr("viewsWidth"+a),"");""!==e&&(e.endsWith("%")||e.endsWith("px"))?(console.log("hier1"),e=`width: ${getValueFromData(t.attr("viewsWidth"+a))};`):isNaN(e)||""===e?(console.log("hier3"),e=""):(console.log("hier2"),e=`width: ${getValueFromData(t.attr("viewsWidth"+a))}px;`);let l=getValueFromData(t.attr("viewAlignment"+a),"center");"left"===l&&(l="flex-start"),"right"===l&&(l="flex-end"),r.push(`\n                    <div \n                        class="materialdesign-masonry-item" style="height: ${getNumberFromData(t.attr("viewsHeight"+a),100)+getNumberFromData(t.masnoryGaps,0)}px; ${e}">\n                            ${vis.editMode?`<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e; height: ${getNumberFromData(t.attr("viewsHeight"+a),100)}px;"></div>`:""}                          \n                            <div data-vis-contains="${t.attr("View"+a)}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                `)}l.append(`\n\n                <div class="materialdesign-masonry-container" style="--materialdesign-masonry-column-count: ${i}; text-align: ${t.viewAlignment};">\n                    ${r.join("")}\n                </div>\n                \n            `)}catch(e){console.exception(`masonry: error: ${e.message}, stack: ${e.stack}`)}}};