"use strict";vis.binds.materialdesign.helper={vibrate:function(e){try{"vibrate"in navigator&&window.navigator.vibrate(e)}catch(e){console.exception(`vibrate [${data.wid}]: error: ${e.message}, stack: ${e.stack}`)}},waitForElement:function(e,t,a){window.setTimeout(function(){e.find(t).length?a(t,$(t)):(console.log("wait"),vis.binds.materialdesign.helper.waitForElement(e,t,a))},50)},installedVersion:function(e,t){setTimeout(function(){let t='version: "0.2.38"';console.log(t),$(e).find("#versionNumber").text(t.replace('version: "',"").replace('"',""))},1)},getValueFromData:function(e,t,a="",l=""){try{return null==e||""===e?t:a+e+l}catch(e){return console.error(e.message),"Error"}},getNumberFromData:function(e,t){try{return null==e||""===e||isNaN(e)?t:parseFloat(e)}catch(e){return console.error(e.message),"Error"}},getFontSize:function(e){let t=vis.binds.materialdesign.helper.getValueFromData(e,null);return null!==t?t.includes("headline")||t.includes("subtitle")||t.includes("body")||t.includes("caption")||t.includes("button")||t.includes("overline")?{class:`mdc-typography--${t}`,style:""}:isNaN(t)?{class:"",style:`font-size: ${t};`}:{class:"",style:`font-size: ${t}px;`}:{class:"",style:""}},getListItemHeader:function(e,t){return null!==e?`<h3 class="mdc-list-group__subheader ${t.class}" \n                        style="${t.style}">\n                            ${e}\n                    </h3>`:""},getListItemTextElement:function(e,t,a,l,r="left"){let i="flex-start";return"center"===r?i="center":"right"===r&&(i="flex-end"),`<span class="mdc-list-item__text" style="width: 100%">     \n                    <span class="mdc-list-item__primary-text ${a.class}" style="justify-content: ${i};${a.style}">${e}</span>\n                    <span class="mdc-list-item__secondary-text ${l.class}" style="text-align: ${r}; ${l.style}">${t}</span>\n                </span>`},getListItemImage:function(e,t){return""!=e?`<img \n                    class="mdc-list-item__graphic" src="${e}" \n                    style="width: auto; padding-top: 8px; padding-bottom: 8px;${t}"\n                >`:""},getListItem:function(e,t,a,l,r=!1,i="",o="",s="",n=""){return"standard"===e?`<div \n                        class="mdc-list-item${r?" mdc-sub-list-item isSubItem":""}${0===t?" mdc-list-item--activated":""}${l?" hasSubItems":""}" \n                        tabindex="${0===t?"0":"-1"}" \n                        id="listItem_${t}" \n                        style="${i}"\n                        data-value="${n}" \n                        ${o} \n                        ${s}\n                    >`:`<div \n                        class="mdc-list-item${r?" mdc-sub-list-item isSubItem":""}${0===t?" mdc-list-item--activated":""} mdc-card__media${l?" hasSubItems":""}" \n                        tabindex="${0===t?"0":"-1"}"\n                        id="listItem_${t}"\n                        style="background-image: url(${a}); align-items: flex-end; padding: 0px;${i}"\n                    >`},getListItemLabel:function(e,t,a,l,r,i,o,s,n=!1,d="left"){let m="";if(l&&(m=`<span \n                                    class="mdc-list-item__meta material-icons toggleIcon" aria-hidden="true" ${vis.binds.materialdesign.helper.getValueFromData(o,"",'style="color: ',';"')}>\n                                        keyboard_arrow_down\n                                </span>`),"standard"===e){let e=`<span \n                                    class="mdc-list-item__text ${r.class}"\n                                    id="listItem_${t}"\n                                    style="width: 100%; text-align: ${d}; ${r.style}${i}">\n                                        ${a}\n                                </span>`;return e+m}return`<div \n                        class="materialdesign-list-item-backdrop-container${n?" isSubItem":""}" \n                        id="backdropContainer_${t}" \n                        style="${s}">\n                            <span \n                                class="mdc-list-item__text ${r.class}"\n                                id="listItem_${t}"\n                                style="position: absolute; ${r.style}${i}">\n                                    ${a}\n                            </span>\n                            ${m}\n                    </div>`},getListItemDivider:function(e,t){return!0===e||"true"===e?"standard"===t?'<hr class="mdc-list-divider">':`<hr class="mdc-list-divider mdc-list-divider--${t}">`:""}};let myMdwHelper=vis.binds.materialdesign.helper;vis.binds.materialdesign.button={initializeButton:function(e,t=!1){try{let t=[],a=myMdwHelper.getValueFromData(e.image,null),l="width: auto;";myMdwHelper.getValueFromData(e.iconHeight,0)>0&&(l=`width: ${e.iconHeight}px;`);let r="";myMdwHelper.getValueFromData(e.labelWidth,0)>0&&(r=`style="width: ${e.labelWidth}%;"`);let i="";"true"!==e.invertImage&&!0!==e.invertImage||(i="filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);");let o="";"text"!==e.buttonStyle&&(o="materialdesign-button--"+e.buttonStyle),t.push('<div \n                                        class="materialdesign-button-body" \n                                        style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;">');let s="";null!==a&&(s=`<img \n                                    class="imgButton" src="${a}" \n                                    style="${l}${i}" />`);let n="";return null!=myMdwHelper.getValueFromData(e.buttontext,null)&&(n=`<span \n                                    class="materialdesign-button__label" ${r}>\n                                    ${e.buttontext}\n                                </span>`),"left"===e.iconPosition?t.push(`${s}${n}</div>`):t.push(`${n}${s}</div>`),{button:t.join(""),style:o}}catch(e){console.exception(`[Button] initialize: error: ${e.message}, stack: ${e.stack}`)}},handleLink:function(e,t){$(e).click(function(){!vis.editMode&&t.href&&(t.openNewWindow?window.open(t.href):window.location.href=t.href)})},handleNavigation:function(e,t){if(!vis.editMode&&t.nav_view){var a=$(e),l=!1;a.on("click touchend",function(e){vis.detectBounce(this)||l||vis.changeView(t.nav_view,t.nav_view)}).on("touchmove",function(){l=!0}).on("touchstart",function(){l=!1})}},handleAdition:function(e,t){try{let a=$(e);a.on("click touchend",function(e){let a=vis.states.attr(t.oid+".val");vis.setValue(t.oid,parseFloat(a)+parseFloat(t.value))})}catch(e){console.exception(`handleAdition [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}},handleToggle:function(e,t){try{var a=$(e);let r=myMdwHelper.getValueFromData(t.colorBgFalse,""),i=myMdwHelper.getValueFromData(t.colorBgTrue,r),o=myMdwHelper.getValueFromData(t.labelColorBgFalse,""),s=myMdwHelper.getValueFromData(t.labelColorBgTrue,o),n=myMdwHelper.getValueFromData(t.image,""),d=myMdwHelper.getValueFromData(t.imageTrue,n),m={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImage&&!0!==t.invertImage||(m={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let c={filter:"","-webkit-filter":"","-moz-filter":"","-o-filter":"","-ms-filter":""};"true"!==t.invertImageTrue&&!0!==t.invertImageTrue||(c={filter:"invert(1)","-webkit-filter":"invert(1)","-moz-filter":"invert(1)","-o-filter":"invert(1)","-ms-filter":"invert(1)"});let u=myMdwHelper.getValueFromData(t.buttontext,""),p=myMdwHelper.getValueFromData(t.labelTrue,u),g=myMdwHelper.getValueFromData(t.labelColorFalse,""),y=myMdwHelper.getValueFromData(t.labelColorTrue,g);function l(){var e=vis.states.attr(t.oid+".val");let l=!1;"boolean"===t.toggleType?l=e:e===parseInt(t.valueOn)||e===t.valueOn?l=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(l=!0),l?(a.parent().attr("toggled",!0),a.parent().css("background",i),a.parent().find(".imgButton").attr("src",d).css(c),a.parent().find(".materialdesign-button__label").html(p).css("color",y),a.find(".labelRowContainer").css("background",s)):(a.parent().attr("toggled",!1),a.parent().css("background",r),a.parent().find(".imgButton").attr("src",n).css(m),a.parent().find(".materialdesign-button__label").html(u).css("color",g),a.find(".labelRowContainer").css("background",o))}l(),t.readOnly&&!vis.editMode&&a.parent().css("pointer-events","none"),vis.states.bind(t.oid+".val",function(e,t,a){l()}),vis.editMode||a.parent().click(function(){"boolean"===t.toggleType?vis.setValue(t.oid,!vis.states.attr(t.oid+".val")):!0===a.parent().attr("toggled")||"true"===a.parent().attr("toggled")?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn)})}catch(e){console.exception(`[Button] handleToggle: error:: ${e.message}, stack: ${e.stack}`)}},buttonToggle:function(e,t){try{var a=$(e).parent();let r=myMdwHelper.getValueFromData(t.colorBgFalse,""),i=myMdwHelper.getValueFromData(t.colorBgTrue,r),o=myMdwHelper.getValueFromData(t.labelColorBgFalse,""),s=myMdwHelper.getValueFromData(t.labelColorBgTrue,o);function l(){var e=vis.states.attr(t.oid+".val");let l=!1;"boolean"===t.toggleType?l=e:e===parseInt(t.valueOn)||e===t.valueOn?l=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(l=!0),l?(a.attr("toggled",!0),a.find(".imgToggleTrue").show(),a.find(".imgToggleFalse").hide(),a.find(".labelToggleTrue").show(),a.find(".labelToggleFalse").hide(),a.parent().css("background",i),a.find(".labelRowContainer").css("background",s)):(a.attr("toggled",!1),a.find(".imgToggleTrue").hide(),a.find(".imgToggleFalse").show(),a.find(".labelToggleTrue").hide(),a.find(".labelToggleFalse").show(),a.parent().css("background",r),a.find(".labelRowContainer").css("background",o))}l(),t.readOnly&&!vis.editMode&&a.parent().css("pointer-events","none"),vis.states.bind(t.oid+".val",function(e,t,a){l()}),vis.editMode||a.click(function(){"boolean"===t.toggleType?vis.setValue(t.oid,!vis.states.attr(t.oid+".val")):!0===a.attr("toggled")||"true"===a.attr("toggled")?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn)})}catch(e){console.exception(`[Button Toggle]: error:: ${e.message}, stack: ${e.stack}`)}},mdcIconButtonToggle:function(e,t){try{let o=$(e);var a=void 0===t.colorBgFalse||null===t.colorBgFalse||""===t.colorBgFalse?"":t.colorBgFalse,l=void 0===t.colorBgTrue||null===t.colorBgTrue||""===t.colorBgTrue?"":t.colorBgTrue,r=void 0===t.colorPress||null===t.colorPress||""===t.colorPress?"":t.colorPress;o.context.style.setProperty("--mdc-theme-primary",r);const s=new mdc.iconButton.MDCIconButtonToggle(o.context);function i(){var e=vis.states.attr(t.oid+".val");let r=!1;"boolean"===t.toggleType?r=e:e===parseInt(t.valueOn)||e===t.valueOn?r=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(r=!0),r?(s.on=!0,o.find(".imgToggleFalse").hide(),o.find(".imgToggleTrue").show(),o.css("background",l)):(s.on=!1,o.find(".imgToggleFalse").show(),o.find(".imgToggleTrue").hide(),o.css("background",a))}t.readOnly&&!vis.editMode&&o.css("pointer-events","none"),i(),vis.editMode||s.listen("MDCIconButtonToggle:change",function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"boolean"===t.toggleType?vis.setValue(t.oid,s.on):s.on?vis.setValue(t.oid,t.valueOn):vis.setValue(t.oid,t.valueOff),i()}),vis.states.bind(t.oid+".val",function(e,t,a){i()})}catch(e){console.exception(`[Icon Button Toggle]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.card={initialize:function(e){try{let t="",a="";"default"!==e.cardStyle&&(a="mdc-card--outlined");let l=myMdwHelper.getFontSize(e.titleLayout),r=myMdwHelper.getFontSize(e.subtitleLayout),i=myMdwHelper.getFontSize(e.textFontSize),o=myMdwHelper.getValueFromData(e.labelTextHeight,"","height: ","px;"),s=myMdwHelper.getValueFromData(e.labelSubTextHeight,"","height: ","px;"),n="display: none;";null!==myMdwHelper.getValueFromData(e.image,null)&&(n="");let d="display: none;";null==myMdwHelper.getValueFromData(e.title,null)&&null==myMdwHelper.getValueFromData(e.subtitle,null)||(d="");let m="";return m="custom"===e.htmlLayout?"card-custom-body":"mdc-typography mdc-typography--"+e.htmlLayout,"Basic"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"BasicHeader"===e.cardLayout?t=`<div class="materialdesign-html-card card-title-section" style="${d}">\n                            <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                            <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                        </div>\n                        <div class="materialdesign-html-card mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}"></div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"BasicHeaderOverlay"===e.cardLayout?t=`<div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(${e.image});${n}">\n                            <div class="materialdesign-html-card mdc-card__media-content">\n                                <div class="materialdesign-html-card card-title-section" style="${d}">\n                                    <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="materialdesign-html-card card-text-section">\n                            <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                        </div>`:"Horizontal"===e.cardLayout&&(t=`<div class="materialdesign-html-card horizontal-container" style="${d}">\n                            <div class="materialdesign-html-card mdc-card__media mdc-card__media--square" style="background-image: url(${e.image});${n}"></div>\n                            <div>\n                                <div class="materialdesign-html-card card-title-section">\n                                    <div class="materialdesign-html-card card-title ${l.class}" style="${l.style}${o}">${e.title}</div>\n                                    <div class="materialdesign-html-card card-subtitle ${r.class}" style="${r.style}${s}">${e.subtitle}</div>\n                                </div>\n                                <div class="materialdesign-html-card card-text-section">\n                                    <div class="materialdesign-html-card ${i.class}" style="${i.style}">${e.html}</div>\n                                </div>\n                            </div>\n                        </div>`),{card:t,style:a}}catch(e){console.exception(`[Card] initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let a=$(e),l=a.context,r=myMdwHelper.getValueFromData(t.colorBackground,"");l.style.setProperty("--materialdesign-color-card-background",r),l.style.setProperty("--materialdesign-color-card-title-section-background",myMdwHelper.getValueFromData(t.colorTitleSectionBackground,r)),l.style.setProperty("--materialdesign-color-card-text-section-background",myMdwHelper.getValueFromData(t.colorTextSectionBackground,r)),l.style.setProperty("--materialdesign-color-card-title",myMdwHelper.getValueFromData(t.colorTitle,"")),l.style.setProperty("--materialdesign-color-card-sub-title",myMdwHelper.getValueFromData(t.colorSubtitle,""))}catch(e){console.exception(`[Card] handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart={bar:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var l=$(e).find(".materialdesign-chart-container").get(0);$(e).find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let r=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),i=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=i&&(i=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=l&&""!==l){var o=l.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],p=[],g=[],y=myMdwHelper.getValueFromData(t.valuesFontColor,"black"),b=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(myMdwHelper.getValueFromData(t.attr("label"+s),"").split("\\n")),null!=i&&(r=i[s]);let l=myMdwHelper.getValueFromData(t.attr("dataColor"+s),r);p.push(l),null===myMdwHelper.getValueFromData(t.hoverColor,null)?g.push(a.convertHex(l,80)):g.push(t.hoverColor),b.push(myMdwHelper.getValueFromData(t.attr("valueTextColor"+s),y)),vis.states.bind(t.attr("oid"+s)+".val",c)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,p,g,void 0,t.hoverBorderColor,void 0,t.hoverBorderWidth),{label:myMdwHelper.getValueFromData(t.barLabelText,""),categoryPercentage:myMdwHelper.getNumberFromData(t.barWidth,80)/100,barPercentage:myMdwHelper.getNumberFromData(t.barWidth,80)/100})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},scales:{yAxes:[a.get_Y_AxisObject(t.chartType,t.yAxisPosition,t.yAxisTitle,t.yAxisTitleColor,t.yAxisTitleFontFamily,t.yAxisTitleFontSize,t.yAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.yAxisValueLabelColor,t.yAxisValueFontFamily,t.yAxisValueFontSize,t.yAxisValueDistanceToAxis,t.yAxisGridLinesColor,t.yAxisGridLinesWitdh,t.yAxisShowAxis,t.yAxisShowGridLines,t.yAxisShowTicks,t.yAxisTickLength)],xAxes:[a.get_X_AxisObject(t.chartType,t.xAxisPosition,t.xAxisTitle,t.xAxisTitleColor,t.xAxisTitleFontFamily,t.xAxisTitleFontSize,t.xAxisShowAxisLabels,t.axisValueMin,t.axisValueMax,t.axisValueStepSize,t.axisMaxLabel,t.axisLabelAutoSkip,t.axisValueAppendText,t.xAxisValueLabelColor,t.xAxisValueFontFamily,t.xAxisValueFontSize,t.xAxisValueDistanceToAxis,t.xAxisGridLinesColor,t.xAxisGridLinesWitdh,t.xAxisShowAxis,t.xAxisShowGridLines,t.xAxisShowTicks,t.xAxisTickLength)]},tooltips:{enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,l){return e&&e.value?`${l.datasets[0].label}: ${a.roundNumber(parseFloat(e.value),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:myMdwHelper.getNumberFromData(t.valuesRotation,void 0),formatter:function(e,l){return e?`${a.roundNumber(e,myMdwHelper.getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.valuesAppendText,"")}${myMdwHelper.getValueFromData(t.attr("labelValueAppend"+l.dataIndex),"")}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.valuesFontFamily,void 0),size:myMdwHelper.getNumberFromData(t.valuesFontSize,void 0)},color:b,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var m=new Chart(o,{type:"vertical"===t.chartType?"bar":"horizontalBar",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function c(e,a,l){let r=e.type.substr(0,e.type.lastIndexOf("."));for(var i=0;i<=t.dataCount;i++)if(r===t.attr("oid"+i)){let e=i;m.data.datasets[0].data[e]=a,m.update()}}}},1)}catch(e){console.exception(`[Bar Chart] error:: ${e.message}, stack: ${e.stack}`)}},lineHistory:function(e,t){try{setTimeout(function(){function a(e,a,i){if(r){s.show();let e=t.timeIntervalToShow;null!==myMdwHelper.getValueFromData(t.time_interval_oid,null)&&void 0!==l.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(e=vis.states.attr(t.time_interval_oid+".val"),null!==myMdwHelper.getValueFromData(a,null)&&void 0!==l.intervals[a]&&(e=a)),d=l.intervals[e]?(new Date).getTime()-l.intervals[e]:void 0;let i=[];for(var o=0;o<=t.dataCount;o++)null!==myMdwHelper.getValueFromData(t.attr("oid"+o),null)&&i.push(l.getTaskForHistoryData(t.attr("oid"+o),t,d));Promise.all(i).then(e=>{for(var a=0;a<=e.length-1;a++){let i=l.getPreparedData(e[a],t,a);r.data.datasets[a].data=i}r.update(),s.hide()})}}let l=vis.binds.materialdesign.chart.helper;var r;l.registerChartAreaPlugin();let i=$(e);var o=i.find(".materialdesign-chart-container").get(0),s=i.find(".material-progress-circular-container");s.show();let n=t.timeIntervalToShow;null!==myMdwHelper.getValueFromData(t.time_interval_oid,null)&&void 0!==l.intervals[vis.states.attr(t.time_interval_oid+".val")]&&(n=vis.states.attr(t.time_interval_oid+".val"),vis.states.bind(t.time_interval_oid+".val",a));let d=l.intervals[n]?(new Date).getTime()-l.intervals[n]:void 0;i.find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let m=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),c=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=c&&(c=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!==myMdwHelper.getValueFromData(t.manualRefreshTrigger,null)&&vis.states.bind(t.manualRefreshTrigger+".ts",a),"timeInterval"===t.refreshMethod&&setInterval(function(){a()},l.intervals[t.refreshTimeInterval]),null!=o&&""!==o){var u=o.getContext("2d");if(Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels),null!==myMdwHelper.getValueFromData(t.historyAdapterInstance,null)){let e=[];for(var p=0;p<=t.dataCount;p++)null!==myMdwHelper.getValueFromData(t.attr("oid"+p),null)&&(e.push(l.getTaskForHistoryData(t.attr("oid"+p),t,d)),"realtime"===t.refreshMethod&&vis.states.bind(t.attr("oid"+p)+".val",a));Promise.all(e).then(e=>{let a=[],i=[];for(var o=0;o<=e.length-1;o++){let r=l.getPreparedData(e[o],t,o),s=myMdwHelper.getNumberFromData(t.attr("valuesMaxDecimals"+o),10),n=myMdwHelper.getValueFromData(t.attr("valuesAppendText"+o),"");a.push({data:r,lineTension:myMdwHelper.getNumberFromData(t.attr("lineTension"+o),.4),borderWidth:myMdwHelper.getNumberFromData(t.attr("lineThikness"+o),3),label:myMdwHelper.getValueFromData(t.attr("legendText"+o),""),borderColor:myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),pointBackgroundColor:myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),fill:t.attr("useFillColor"+o),backgroundColor:myMdwHelper.getValueFromData(t.attr("fillColor"+o),l.convertHex(myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m),10)),pointRadius:myMdwHelper.getNumberFromData(t.pointSize,3),pointHoverRadius:myMdwHelper.getNumberFromData(t.pointSizeHover,4),pointStyle:myMdwHelper.getValueFromData(t.pointStyle,"circle"),pointHoverBorderColor:myMdwHelper.getValueFromData(t.attr("pointHoverColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),pointHoverBackgroundColor:myMdwHelper.getValueFromData(t.attr("pointHoverColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),yAxisID:"yAxis_id_"+myMdwHelper.getNumberFromData(t.attr("commonYAxis"+o),o),spanGaps:t.attr("lineSpanGaps"+o),datalabels:{display:t.attr("showValues"+o),anchor:t.attr("valuesPositionAnchor"+o),align:t.attr("valuesPositionAlign"+o),clamp:!0,rotation:myMdwHelper.getNumberFromData(t.attr("valuesRotation"+o),void 0),formatter:function(e,t){return e.y?`${l.roundNumber(e.y,s).toLocaleString()}${n}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.attr("valuesFontFamily"+o),void 0),size:myMdwHelper.getNumberFromData(t.attr("valuesFontSize"+o),void 0)},color:myMdwHelper.getValueFromData(t.attr("valuesFontColor"+o),myMdwHelper.getValueFromData(t.attr("dataColor"+o),c?myMdwHelper.getValueFromData(c[o],m):m)),textAlign:t.attr("valuesTextAlign"+o)}}),i.push({id:"yAxis_id_"+o,type:"linear",position:t.attr("yAxisPosition"+o),display:myMdwHelper.getNumberFromData(t.attr("commonYAxis"+o),o)===o&&t.attr("showYAxis"+o),scaleLabel:{display:null!==myMdwHelper.getValueFromData(t.attr("yAxisTitle"+o),null),labelString:myMdwHelper.getValueFromData(t.attr("yAxisTitle"+o),""),fontColor:myMdwHelper.getValueFromData(t.yAxisTitleColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.yAxisTitleFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.yAxisTitleFontSize,void 0)},ticks:{min:myMdwHelper.getNumberFromData(t.attr("yAxisMinValue"+o),void 0),max:myMdwHelper.getNumberFromData(t.attr("yAxisMaxValue"+o),void 0),stepSize:myMdwHelper.getNumberFromData(t.attr("yAxisStep"+o),void 0),autoSkip:!0,maxTicksLimit:myMdwHelper.getNumberFromData(t.attr("yAxisMaxLabel"+o),void 0),fontColor:myMdwHelper.getValueFromData(t.attr("yAxisValueColor"+o),myMdwHelper.getValueFromData(t.yAxisValueLabelColor,void 0)),fontFamily:myMdwHelper.getValueFromData(t.yAxisValueFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.yAxisValueFontSize,void 0),padding:myMdwHelper.getNumberFromData(t.yAxisValueDistanceToAxis,0),callback:function(e,a,l){let r=this.id.replace("yAxis_id_","");return`${e}${myMdwHelper.getValueFromData(t.attr("yAxisValueAppendText"+r),"")}`.split("\\n")}},gridLines:{display:!0,color:myMdwHelper.getValueFromData(t.attr("yAxisGridLinesColor"+o),"black"),lineWidth:myMdwHelper.getNumberFromData(t.attr("yAxisGridLinesWitdh"+o),.1),drawBorder:t.attr("yAxisShowAxisBorder"+o),drawOnChartArea:t.attr("yAxisShowGridLines"+o),drawTicks:t.attr("yAxisShowTicks"+o),tickMarkLength:myMdwHelper.getNumberFromData(t.attr("yAxisTickLength"+o),5)}})}var n={datasets:a},d={responsive:!0,maintainAspectRatio:!1,layout:l.getLayout(t),chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},hover:{mode:"nearest"},legend:Object.assign(l.getLegend(t),{onClick:function(e,a){var l=a.datasetIndex,i=this.chart,o=i.getDatasetMeta(l);myMdwHelper.getNumberFromData(t.attr("commonYAxis"+l),l)===l&&(r.options.scales.yAxes[l].display=!r.options.scales.yAxes[l].display),o.hidden=null===o.hidden?!i.data.datasets[l].hidden:null,i.update()}}),scales:{xAxes:[{type:"time",bounds:"axisTicks"===myMdwHelper.getValueFromData(t.xAxisBounds,"")?"ticks":"data",time:{displayFormats:null!==myMdwHelper.getValueFromData(t.xAxisTimeFormats,null)?JSON.parse(t.xAxisTimeFormats):l.defaultTimeFormats(),tooltipFormat:"ll"},position:t.xAxisPosition,scaleLabel:{display:null!==myMdwHelper.getValueFromData(t.xAxisTitle,null),labelString:myMdwHelper.getValueFromData(t.xAxisTitle,""),fontColor:myMdwHelper.getValueFromData(t.xAxisTitleColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.xAxisTitleFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.xAxisTitleFontSize,void 0)},ticks:{display:t.xAxisShowAxisLabels,autoSkip:!0,autoSkipPadding:10,maxTicksLimit:myMdwHelper.getNumberFromData(t.xAxisMaxLabel,void 0),maxRotation:0,minRotation:0,callback:function(e,a,l){return`${e}${myMdwHelper.getValueFromData(t.axisValueAppendText,"")}`.split("\\n")},fontColor:myMdwHelper.getValueFromData(t.xAxisValueLabelColor,void 0),fontFamily:myMdwHelper.getValueFromData(t.xAxisValueFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(t.xAxisValueFontSize,void 0),padding:myMdwHelper.getNumberFromData(t.xAxisValueDistanceToAxis,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(t.xAxisGridLinesColor,"black"),lineWidth:myMdwHelper.getNumberFromData(t.xAxisGridLinesWitdh,.1),drawBorder:t.xAxisShowAxis,drawOnChartArea:t.xAxisShowGridLines,drawTicks:t.xAxisShowTicks,tickMarkLength:myMdwHelper.getNumberFromData(t.xAxisTickLength,5)}}],yAxes:i},tooltips:{mode:"nearest",enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{title:function(e,a){let r=e[0].datasetIndex,i=e[0].index,o=Object.keys(a.datasets[r]._meta)[0],s=a.datasets[r]._meta[o].controller._xScale._unit,n=moment(a.datasets[r].data[i].t),d=null!==myMdwHelper.getValueFromData(t.tooltipTimeFormats,null)?JSON.parse(t.tooltipTimeFormats):l.defaultToolTipTimeFormats();return n.format(d[s])},label:function(e,a){return e&&e.value?`${a.datasets[e.datasetIndex].label}: ${l.roundNumber(parseFloat(e.value),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}}};t.disableHoverEffects&&(d.hover={mode:null}),r=new Chart(u,{type:"line",data:n,options:d,plugins:[ChartDataLabels]}),s.hide()})}}},1)}catch(e){console.exception(`[Line History Chart] error: ${e.message}, stack: ${e.stack}`)}},pie:function(e,t){try{setTimeout(function(){let a=vis.binds.materialdesign.chart.helper;a.registerChartAreaPlugin();$(e);var l=$(e).find(".materialdesign-chart-container").get(0)
;$(e).find(".materialdesign-chart-container").css("background-color",myMdwHelper.getValueFromData(t.backgroundColor,""));let r=myMdwHelper.getValueFromData(t.globalColor,"#44739e"),i=myMdwHelper.getValueFromData(t.colorScheme,null);if(null!=i&&(i=vis.binds.materialdesign.colorScheme.get(t.colorScheme,t.dataCount)),null!=l&&""!==l){var o=l.getContext("2d");Chart.defaults.global.defaultFontColor="#44739e",Chart.defaults.global.defaultFontSize=15,Chart.defaults.global.animation.duration=myMdwHelper.getNumberFromData(t.animationDuration,1e3),Chart.plugins.unregister(ChartDataLabels);let e=[],u=[],p=[],g=[],y=myMdwHelper.getValueFromData(t.valuesFontColor,"black"),b=[];for(var s=0;s<=t.dataCount;s++){e.push(vis.states.attr(t.attr("oid"+s)+".val")),u.push(myMdwHelper.getValueFromData(t.attr("label"+s),"").split("\\n")),null!=i&&(r=i[s]);let l=myMdwHelper.getValueFromData(t.attr("dataColor"+s),r);p.push(l),null===myMdwHelper.getValueFromData(t.hoverColor,null)?g.push(a.convertHex(l,80)):g.push(t.hoverColor),b.push(myMdwHelper.getValueFromData(t.attr("valueTextColor"+s),y)),vis.states.bind(t.attr("oid"+s)+".val",c)}var n={labels:u,datasets:[Object.assign(a.getDataset(e,p,g,t.borderColor,t.hoverBorderColor,t.borderWidth,t.hoverBorderWidth),{borderAlign:"inner"})]},d={responsive:!0,maintainAspectRatio:!1,layout:a.getLayout(t),legend:a.getLegend(t),cutoutPercentage:"doughnut"===t.chartType?myMdwHelper.getNumberFromData(t.doughnutCutOut,50):0,chartArea:{backgroundColor:myMdwHelper.getValueFromData(t.chartAreaBackgroundColor,"")},tooltips:{enabled:t.showTooltip,backgroundColor:myMdwHelper.getValueFromData(t.tooltipBackgroundColor,"black"),caretSize:myMdwHelper.getNumberFromData(t.tooltipArrowSize,5),caretPadding:myMdwHelper.getNumberFromData(t.tooltipDistanceToBar,2),cornerRadius:myMdwHelper.getNumberFromData(t.tooltipBoxRadius,4),displayColors:t.tooltipShowColorBox,xPadding:myMdwHelper.getNumberFromData(t.tooltipXpadding,10),yPadding:myMdwHelper.getNumberFromData(t.tooltipYpadding,10),titleFontColor:myMdwHelper.getValueFromData(t.tooltipTitleFontColor,"white"),titleFontFamily:myMdwHelper.getValueFromData(t.tooltipTitleFontFamily,void 0),titleFontSize:myMdwHelper.getNumberFromData(t.tooltipTitleFontSize,void 0),titleMarginBottom:myMdwHelper.getNumberFromData(t.tooltipTitleMarginBottom,6),bodyFontColor:myMdwHelper.getValueFromData(t.tooltipBodyFontColor,"white"),bodyFontFamily:myMdwHelper.getValueFromData(t.tooltipBodyFontFamily,void 0),bodyFontSize:myMdwHelper.getNumberFromData(t.tooltipBodyFontSize,void 0),callbacks:{label:function(e,l){return e?`${u[e.index]}: ${a.roundNumber(parseFloat(l.datasets[0].data[e.index]),myMdwHelper.getNumberFromData(t.tooltipValueMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.tooltipBodyAppend,"")}`.split("\\n"):""}}},plugins:{datalabels:{anchor:t.valuesPositionAnchor,align:t.valuesPositionAlign,clamp:!0,rotation:myMdwHelper.getNumberFromData(t.valuesRotation,void 0),formatter:function(e,l){return e?`${a.roundNumber(e,myMdwHelper.getNumberFromData(t.valuesMaxDecimals,10)).toLocaleString()}${myMdwHelper.getValueFromData(t.valuesAppendText,"")}${myMdwHelper.getValueFromData(t.attr("labelValueAppend"+l.dataIndex),"")}`.split("\\n"):""},font:{family:myMdwHelper.getValueFromData(t.valuesFontFamily,void 0),size:myMdwHelper.getNumberFromData(t.valuesFontSize,void 0)},color:b,textAlign:t.valuesTextAlign}}};t.disableHoverEffects&&(d.hover={mode:null});var m=new Chart(o,{type:"pie"===t.chartType?"pie":"doughnut",data:n,options:d,plugins:t.showValues?[ChartDataLabels]:void 0});function c(e,a,l){let r=e.type.substr(0,e.type.lastIndexOf("."));for(var i=0;i<=t.dataCount;i++)if(r===t.attr("oid"+i)){let e=i;m.data.datasets[0].data[e]=a,m.update()}}}},1)}catch(e){console.exception(`[Pie Chart] error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.chart.helper={convertHex:function(e,t){e=e.replace("#","");let a=parseInt(e.substring(0,2),16),l=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return"rgba("+a+","+l+","+r+","+t/100+")"},get_Y_AxisObject:function(e,t,a,l,r,i,o,s,n,d,m,c,u,p,g,y,b,w,v,h,f,M,F){return{position:t,scaleLabel:{display:null!==myMdwHelper.getValueFromData(a,null),labelString:myMdwHelper.getValueFromData(a,""),fontColor:myMdwHelper.getValueFromData(l,void 0),fontFamily:myMdwHelper.getValueFromData(r,void 0),fontSize:myMdwHelper.getNumberFromData(i,void 0)},ticks:{display:o,min:myMdwHelper.getNumberFromData(s,void 0),max:myMdwHelper.getNumberFromData(n,void 0),stepSize:myMdwHelper.getNumberFromData(d,void 0),autoSkip:"horizontal"===e&&(myMdwHelper.getNumberFromData(m,void 0)>0||c),maxTicksLimit:"horizontal"===e?myMdwHelper.getNumberFromData(m,void 0):void 0,callback:function(t,a,l){return"vertical"===e?`${t}${myMdwHelper.getValueFromData(u,"")}`.split("\\n"):t},fontColor:myMdwHelper.getValueFromData(p,void 0),fontFamily:myMdwHelper.getValueFromData(g,void 0),fontSize:myMdwHelper.getNumberFromData(y,void 0),padding:myMdwHelper.getNumberFromData(b,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(w,"black"),lineWidth:myMdwHelper.getNumberFromData(v,.1),drawBorder:h,drawOnChartArea:f,drawTicks:M,tickMarkLength:myMdwHelper.getNumberFromData(F,5)}}},get_X_AxisObject:function(e,t,a,l,r,i,o,s,n,d,m,c,u,p,g,y,b,w,v,h,f,M,F){return{position:t,scaleLabel:{display:null!==myMdwHelper.getValueFromData(a,null),labelString:myMdwHelper.getValueFromData(a,""),fontColor:myMdwHelper.getValueFromData(l,void 0),fontFamily:myMdwHelper.getValueFromData(r,void 0),fontSize:myMdwHelper.getNumberFromData(i,void 0)},ticks:{display:o,min:myMdwHelper.getNumberFromData(s,void 0),max:myMdwHelper.getNumberFromData(n,void 0),stepSize:myMdwHelper.getNumberFromData(d,void 0),autoSkip:"vertical"===e&&(myMdwHelper.getNumberFromData(m,void 0)>0||c),maxTicksLimit:"vertical"===e?myMdwHelper.getNumberFromData(m,void 0):void 0,callback:function(t,a,l){return"horizontal"===e?`${t}${myMdwHelper.getValueFromData(u,"")}`.split("\\n"):t},fontColor:myMdwHelper.getValueFromData(p,void 0),fontFamily:myMdwHelper.getValueFromData(g,void 0),fontSize:myMdwHelper.getNumberFromData(y,void 0),padding:myMdwHelper.getNumberFromData(b,0)},gridLines:{display:!0,color:myMdwHelper.getValueFromData(w,"black"),lineWidth:myMdwHelper.getNumberFromData(v,.1),drawBorder:h,drawOnChartArea:f,drawTicks:M,tickMarkLength:myMdwHelper.getNumberFromData(F,5)}}},getDataset:function(e,t,a,l,r,i,o){return{data:e,backgroundColor:t,hoverBackgroundColor:a,borderColor:myMdwHelper.getValueFromData(l,"white"),hoverBorderColor:myMdwHelper.getValueFromData(r,void 0),borderWidth:myMdwHelper.getNumberFromData(i,void 0),hoverBorderWidth:myMdwHelper.getNumberFromData(o,void 0)}},getLegend:function(e){return{display:e.showLegend,position:e.legendPosition,labels:{fontColor:myMdwHelper.getValueFromData(e.legendFontColor,void 0),fontFamily:myMdwHelper.getValueFromData(e.legendFontFamily,void 0),fontSize:myMdwHelper.getNumberFromData(e.legendFontSize,void 0),boxWidth:myMdwHelper.getNumberFromData(e.legendBoxWidth,10),usePointStyle:e.legendPointStyle}}},getLayout:function(e){return{padding:{top:myMdwHelper.getValueFromData(e.chartPaddingTop,0),left:myMdwHelper.getValueFromData(e.chartPaddingLeft,0),right:myMdwHelper.getValueFromData(e.chartPaddingRight,0),bottom:myMdwHelper.getValueFromData(e.chartPaddingBottom,0)}}},roundNumber:(e,t)=>+(Math.round(e+"e+"+t)+"e-"+t),intervals:{"30 seconds":3e4,"1 minute":6e4,"2 minutes":12e4,"5 minutes":3e5,"10 minutes":6e5,"30 minutes":18e5,"1 hour":36e5,"2 hours":72e5,"4 hours":144e5,"8 hours":288e5,"12 hours":432e5,"1 day":864e5,"2 days":1728e5,"3 days":2592e5,"7 days":6048e5,"14 days":12096e5,"1 month":2628e6,"2 months":5256e6,"3 months":7884e6,"6 months":15768e6,"1 year":31536e6,"2 years":63072e6},defaultTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "H:mm:ss.SSS",\n                "second":         "H:mm:ss",\n                "minute":         "H:mm",\n                "hour":           "H",\n                "day":            "ddd DD.",\n                "week":           "ll",\n                "month":          "MMM YYYY",\n                "quarter":        "[Q]Q - YYYY",\n                "year":           "YYYY"\n            }\n            ')},defaultToolTipTimeFormats:function(){return JSON.parse('\n            {\n                "millisecond":    "lll:ss",\n                "second":         "lll:ss",\n                "minute":         "lll",\n                "hour":           "lll",\n                "day":            "lll",\n                "week":           "lll",\n                "month":          "lll",\n                "quarter":        "lll",\n                "year":           "lll"\n            }\n            ')},getTaskForHistoryData:function(e,t,a){return new Promise((l,r)=>{vis.getHistory(e,{instance:t.historyAdapterInstance,count:parseInt(myMdwHelper.getNumberFromData(t.maxDataPoints,100)),step:1e3*parseInt(myMdwHelper.getNumberFromData(t.minTimeInterval,0)),aggregate:t.aggregate||"average",start:a,end:(new Date).getTime(),timeout:2e3},function(e,t){l(!e&&t?t:null)})})},getPreparedData:function(e,t,a){let l=[];return e&&(l=e.map(e=>({t:null!==e.ts&&void 0!==e.ts?e.ts:null,y:null!==e.val&&void 0!==e.val?e.val*myMdwHelper.getNumberFromData(t.attr("multiply"+a),1):null}))),l},registerChartAreaPlugin:function(){Chart.pluginService.register({beforeDraw:function(e,t){if(e.config.options.chartArea&&e.config.options.chartArea.backgroundColor){Chart.helpers;var a=e.chart.ctx,l=e.chartArea;a.save(),a.fillStyle=e.config.options.chartArea.backgroundColor,a.fillRect(l.left,l.top,l.right-l.left,l.bottom-l.top),a.restore()}}})}},vis.binds.materialdesign.checkbox=function(e,t){try{let l=$(e),r=l.find(".mdc-checkbox").get(0);const i=new mdc.formField.MDCFormField(l.context),o=new mdc.checkbox.MDCCheckbox(r);function a(){var e=vis.states.attr(t.oid+".val");let a=!1;"boolean"===t.toggleType?a=e:e===parseInt(t.valueOn)||e===t.valueOn?a=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(a=!0),o.checked=a;let r=l.find('label[id="label"]');a?(r.css("color",myMdwHelper.getValueFromData(t.labelColorTrue,"")),r.text(myMdwHelper.getValueFromData(t.labelTrue,""))):(r.css("color",myMdwHelper.getValueFromData(t.labelColorFalse,"")),r.text(myMdwHelper.getValueFromData(t.labelFalse,"")))}i.input=o,o.disabled=t.readOnly,r.style.setProperty("--mdc-theme-secondary",myMdwHelper.getValueFromData(t.colorCheckBox,"")),a(),vis.editMode||l.find(".mdc-checkbox").click(function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"boolean"===t.toggleType?vis.setValue(t.oid,o.checked):!0==!o.checked?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn),a()}),vis.states.bind(t.oid+".val",function(e,t,l){a()})}catch(e){console.exception(`[Checkbox]: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.colorScheme={get:function(e,t=1){try{let l={"scrounger.pie":["#44739e","#6dd600","#ff9800","#8e24aa","#ffeb3b","#d32f2f","#a65628"]};if(l["material.red"]=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c"].reverse(),l["material.pink"]=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f"].reverse(),l["material.purple"]=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c"].reverse(),l["material.deeppurple"]=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92"].reverse(),l["material.indigo"]=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e"].reverse(),l["material.blue"]=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1"].reverse(),l["material.lightblue"]=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"].reverse(),l["material.cyan"]=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"].reverse(),l["material.teal"]=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40"].reverse(),l["material.green"]=["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20"].reverse(),l["material.lightgreen"]=["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e"].reverse(),l["material.lime"]=["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717"].reverse(),l["material.yellow"]=["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17"].reverse(),l["material.amber"]=["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"].reverse(),l["material.orange"]=["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100"].reverse(),l["material.deeporange"]=["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c"].reverse(),l["material.brown"]=["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"].reverse(),l["material.grey"]=["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"].reverse(),l["material.bluegrey"]=["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"].reverse(),l["material.setOne"]=["#b71c1c","#0d47a1","#1b5e20","#4a148c","#e65100","#f57f17","#3e2723"],l["material.setTwo"]=["#c62828","#1565c0","#2e7d32","#6a1b9a","#ef6c00","#9e9d24","#4e342e"],l["material.setThree"]=["#d32f2f","#1976d2","#388e3c","#7b1fa2","#f57c00","#fbc02d","#5d4037"],l["brewer.SetOne"]=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],l["brewer.SetTwo"]=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],l["brewer.SetThree"]=["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],null!=myMdwHelper.getValueFromData(e,null)){let r=[],i=l[e],o=Math.ceil(t/i.length);for(var a=0;a<=o-1;a++)r=r.concat(i);return r}return l}catch(e){console.exception(`get: error: ${e.message}, stack: ${e.stack}`)}},preview:function(e){try{let e=vis.binds.materialdesign.colorScheme.get(),l=[];for(var t in e)if(e.hasOwnProperty(t)){let r=`<div style="display: flex; margin-top: 4px">\n                                        <label style="min-width: 180px; color: black">${t}:</label>`;for(var a=0;a<=e[t].length;a++)r+=`<div style="min-width: 30px; min-height: 4px; margin-left: 4px; background: ${e[t][a]}"></div>`;l.push(r+"</div>")}return l.join("")}catch(e){console.exception(`preview: error: ${e.message}, stack: ${e.stack}`)}},editorSelector:function(e){try{let t=vis.binds.materialdesign.colorScheme.get();return{input:'<input type="text" id="inspect_'+e+'" class="vis-edit-textbox"/>',init:function(e,a){$(this).autocomplete({minLength:0,source:function(e,a){var l=$.grep(Object.keys(t),function(t){return t.toLowerCase().includes(e.term.toLowerCase())});a(l)},select:function(e,t){$(this).val(t.item.value),$(this).trigger("change",t.item.value)}}).focus(function(){$(this).autocomplete("search","")}).autocomplete("instance")._renderItem=function(e,a){let l=t[a.label],r='<div style="display: flex; margin-top: 4px;">';for(var i=0;i<=l.length;i++)r+=`<div style="min-width: 20px; min-height: 4px; margin-left: 4px; background: ${l[i]}"></div>`;return r+="</div>",$("<li>").append("<a><span>"+a.label+"</span></a>").append(r).appendTo(e)}}}}catch(e){console.exception(`editorSelector: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.dialog={initialize:function(e,t=!1){try{let a=myMdwHelper.getValueFromData(e.title,""),l=myMdwHelper.getFontSize(e.titleTextSize),r=myMdwHelper.getValueFromData(e.buttonText,"");return`<div class="mdc-dialog"\n                        role="alertdialog"\n                        aria-modal="true"\n                        aria-labelledby="my-dialog-title"\n                        aria-describedby="my-dialog-content"\n                        style="z-index: ${myMdwHelper.getNumberFromData(e.z_index,1e3)}">\n                        <div class="mdc-dialog__container">\n                        <div class="mdc-dialog__surface">\n                            <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->\n                            <h2 class="mdc-dialog__title ${l.class}" id="my-dialog-title" style="${""===a?"display: none;":""}${l.style}" >${myMdwHelper.getValueFromData(e.title,"")}</h2>\n                            <div class="mdc-dialog__content" id="my-dialog-content">\n                                ${vis.editMode&&!t?`<div data-vis-contains="${e.contains_view}" class="vis-widget-body vis-view-container" style="position: relative"></div>`:""}\n                                <!-- vis container for view generated at runtime --!>\n                                \n                                ${t?`<iframe src="${e.src}" ${e.noSandbox?"":'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"'} style="position: relative; border: 0; padding: 0; margin: 0; width: 100%; height: 100%; ${e.scrollX?"overflow-x: scroll;":"overflow-x: hidden;"} ${e.scrollY?"overflow-y: scroll;":"overflow-y: hidden;"}" ${e.seamless?"seamless":""}></iframe>`:""}\n                            </div>\n                            <footer class="mdc-dialog__actions" ${""===r?'style="display: none"':""}>\n                            <button type="button" class="mdc-button mdc-dialog__button" ${vis.editMode?"":'data-mdc-dialog-action="close"'} >\n                            <span class="mdc-button__label">${r}</span>\n                            </button>\n                        </footer>\n                        </div>\n                        </div>\n                        <div class="mdc-dialog__scrim"></div>\n                    </div>`}catch(e){console.exception(`[Dialog] initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a=!1){try{setTimeout(function(){var l=$(e);let r=l.find(".mdc-dialog"),i=window.getComputedStyle(l.context,null).width,o=window.getComputedStyle(l.context,null).height;r.get(0).style.setProperty("--materialdesign-color-dialog-background",myMdwHelper.getValueFromData(t.colorBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-title-background",myMdwHelper.getValueFromData(t.colorTitleBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-title",myMdwHelper.getValueFromData(t.colorTitle,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-background",myMdwHelper.getValueFromData(t.colorButtonBackground,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-text",myMdwHelper.getValueFromData(t.colorButtonText,"")),r.get(0).style.setProperty("--materialdesign-color-dialog-button-hover",myMdwHelper.getValueFromData(t.colorButtonHover,""));const s=new mdc.dialog.MDCDialog(r.get(0));mdc.ripple.MDCRipple.attachTo(r.find(".mdc-button").get(0));s.escapeKeyAction="",s.scrimClickAction="",vis.editMode&&t.showInEditor?(r.find(".mdc-dialog__container").css("width","100%").css("height","100%"),r.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),r.css("position","relative"),r.find(".mdc-dialog__scrim").hide(),s.open()):vis.editMode||(r.find(".mdc-dialog__container").css("width",i.replace("px","")).css("height",o.replace("px","")),r.find(".mdc-dialog__surface").css("width","100%").css("height","100%"),t.showInCenterOfScreen||r.css("position","absolute"),vis.states.bind(t.showDialogOid+".ts",function(e,a,l){let r=vis.states.attr(t.showDialogOid+".val");s.isOpen||!0!==r&&"true"!==r?!s.isOpen||!1!==r&&"false"!==r||s.close():s.open()}),vis.editMode||s.listen("MDCDialog:closing",function(){vis.setValue(t.showDialogOid,!1),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),s.listen("MDCDialog:opened",()=>{if(a)vis.binds.basic.iframeRefresh(r,t,this.view);else{let e=t.contains_view;vis.views[e]&&vis.renderView(e,e,!0,function(e){$("#visview_"+e).css("position","relative").appendTo(r.find(".mdc-dialog__content")).show().data("persistent",!0)})}}))},1)}catch(e){console.exception(`[Dialog] handle: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.drawer={initializeTopAppBar:function(e){try{let t="",a="",l="",r="";"standard"===e.topAppBarLayout?r="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",r="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",r="mdc-top-app-bar--short-fixed-adjust");let i=myMdwHelper.getValueFromData(e.topAppBarZ_index,"","z-index: ",";");return a=vis.editMode?`style="position: absolute;${i}"`:`style="position: fixed;${i}"`,"modal"!==e.drawerLayout&&"dismissible"!==e.drawerLayout||(l=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${myMdwHelper.getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:a,contentLayout:r,headerButtonShow:l}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let r=[],i=[],o="",s="",n="",d="";return t(),a(),l(),{viewsList:r,drawerItemList:i.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=myMdwHelper.getValueFromData(e.drawerWidth,"","width: ","px;"),a="",l="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,l=`z-index: ${e.z_index-1};`);let r="";"modal"===e.drawerLayout?(s="mdc-drawer--modal",vis.editMode?r="position: absolute;":d=`<div class="mdc-drawer-scrim" style="${l}"></div>`):vis.editMode?(s="mdc-drawer--dismissible mdc-drawer--open",r="position: absolute;"):(s="mdc-drawer--dismissible mdc-drawer--open",r="position: fixed;"),n=`style="${t}${a}${r}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${myMdwHelper.getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function l(){let t=myMdwHelper.getFontSize(e.listItemHeaderTextSize),a=myMdwHelper.getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),l=myMdwHelper.getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),o=myMdwHelper.getFontSize(e.listItemTextSize),s=myMdwHelper.getFontSize(e.listSubItemTextSize),n=e.showLabels?"":"display: none;",d=e.showSubItemsLabels?"":"display: none;",m=myMdwHelper.getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),c=myMdwHelper.getValueFromData(e.backdropSubLabelBackgroundHeight,m,"height: ","%;"),u=0;for(var p=0;p<=e.count;p++){let y=myMdwHelper.getValueFromData(e.attr("headers"+p),null),b=myMdwHelper.getValueFromData(e.attr("labels"+p),e.attr("contains_view_"+p)),w=myMdwHelper.getValueFromData(e.attr("iconDrawer"+p),""),v="",h=!1,f="",M="";if(e.attr("contains_view_"+p)&&e.attr("contains_view_"+p).includes("|")){if(r.push(""),v=e.attr("contains_view_"+p).split("|"),v.length>0){h=!0;let t=myMdwHelper.getValueFromData(e.attr("labels"+p),null);if(null===t)b=e.attr("contains_view_"+p);else try{f=JSON.parse(t),b=f.itemText}catch{f="",b="Error: wrong format!"}let a=myMdwHelper.getValueFromData(e.attr("iconDrawer"+p),null);if(null!==a)try{M=JSON.parse(a),w=M.itemImage}catch{M=""}}}else r.push(e.attr("contains_view_"+p));let F=myMdwHelper.getListItemHeader(y,t);i.push(F);let x=myMdwHelper.getListItem(e.drawerItemLayout,u,w,h,!1,a),H="";"standard"===e.drawerItemLayout&&(H=myMdwHelper.getListItemImage(w,a));let D=myMdwHelper.getListItemLabel(e.drawerItemLayout,u,b,h,o,n,e.colorSubItemToggleIcon,m,!1,e.listItemAlignment);if(i.push(`${x}${H}${D}</div>`),h){i.push('<nav class="mdc-list mdc-sub-list">');for(var g=0;g<=v.length-1;g++){r.push(v[g].trim()),u++;let t="";M&&M.subItems&&M.subItems.length>0&&(t=myMdwHelper.getValueFromData(M.subItems[g],""));let a="";a=f&&f.subItems&&f.subItems.length>0?myMdwHelper.getValueFromData(f.subItems[g],v[g]):v[g];let o=myMdwHelper.getListItem(e.drawerSubItemLayout,u,t,!1,!0,l),n="";"standard"===e.drawerSubItemLayout&&(n=myMdwHelper.getListItemImage(t,l));let m=myMdwHelper.getListItemLabel(e.drawerSubItemLayout,u,a,!1,s,d,"",c,!0,e.listSubItemAlignment);i.push(`${o}${n}${m}</div>`)}i.push("</nav>")}i.push(myMdwHelper.getListItemDivider(e.attr("dividers"+p),e.listItemDividerStyle)),u++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let i=$(e),o=i.parent().parent().get(0),s=i.context,n=i.parent().find(".mdc-top-app-bar").get(0),d=i.parent().find(".mdc-list").get(0);setTimeout(function(){if(i.parent().parent().css("left","0px"),i.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout&&i.parent().find(".mdc-top-app-bar").css("width",e)}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)}},1);let m=myMdwHelper.getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",m),d.style.setProperty("--materialdesign-color-drawer-sub-background",myMdwHelper.getValueFromData(t.colorDrawerSubBackground,m));let c=myMdwHelper.getValueFromData(t.colorDrawerItemBackground,m);d.style.setProperty("--materialdesign-color-list-item-background",c),d.style.setProperty("--materialdesign-color-sub-list-item-background",myMdwHelper.getValueFromData(t.colorDrawerSubItemBackground,c));let u=myMdwHelper.getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",myMdwHelper.getValueFromData(t.colorListSubItemSelected,u));let p=myMdwHelper.getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",p),d.style.setProperty("--materialdesign-color-sub-list-item-hover",myMdwHelper.getValueFromData(t.colorListSubItemHover,p));let g=myMdwHelper.getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",g),d.style.setProperty("--materialdesign-color-sub-list-item-text",myMdwHelper.getValueFromData(t.colorListSubItemText,g));let y=myMdwHelper.getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",y),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",myMdwHelper.getValueFromData(t.colorListSubItemTextSelected,y)),d.style.setProperty("--materialdesign-color-list-item-header",myMdwHelper.getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",myMdwHelper.getValueFromData(t.colorListItemDivider,""));let b=myMdwHelper.getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",b),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",myMdwHelper.getValueFromData(t.colorDrawerbackdropSubLabelBackground,b));let w=myMdwHelper.getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",w),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",myMdwHelper.getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,w)),n.style.setProperty("--mdc-theme-primary",myMdwHelper.getValueFromData(t.colorTopAppBarBackground,""));const v=new mdc.drawer.MDCDrawer(s),h=new mdc.topAppBar.MDCTopAppBar(n),f=new mdc.list.MDCList(d);f.listElements.map(e=>new mdc.ripple.MDCRipple(e));h.setScrollTarget(i.parent().find(".mdc-top-app-bar-content").get(0)),h.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(v.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left","0px"),i.parent().find(".drawer-frame-app-content").css("left","0px"),v.open=!v.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");v.open=!v.open,setTimeout(function(){"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)},250)}else v.open=!v.open});var a=vis.states.attr(t.oid+".val");function l(){if(t.showSelectedItemAsTitle){let e=i.parent().find(`span[id="listItem_${f.selectedIndex}"]`).text();i.parent().find(".mdc-top-app-bar__title").text(e)}}function r(e){let t=i.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}r(a),f.selectedIndex=a,l(),vis.states.bind(t.oid+".val",function(e,t,a){r(t),f.selectedIndex=t,l()}),i.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),f.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),l(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(v.open=!1))})}catch(e){console.exception(`mdcTopAppBarWithDrawer [${t.wid}]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.input=function(e,t){try{let a=$(e),l="regular"===myMdwHelper.getValueFromData(t.inputLayout,"regular")?"":t.inputLayout
;a.append(`\n            <div class="materialdesign-vuetifyTextField" style="width: 100%; height: 100%;">\n                    <v-text-field\n                        ${l}\n                        :value="value"\n                        :height="height"\n                        :label="label"\n                        :type="type"\n                        :maxlength="maxlength"\n                        :messages="messages"\n                        :counter="counter"\n                        hide-details="auto"\n                        dense\n                        prefix="$"\n                        suffix="lbs"\n                        \n                        \n                        :rules="[rules.required, rules.counter]"\n                        \n                        @change="changeEvent"\n                    >\n                    </v-text-field>\n            </div>`),myMdwHelper.waitForElement(a,".materialdesign-vuetifyTextField",function(){myMdwHelper.waitForElement($("body"),"#materialdesign-vuetify-container",function(){let e=window.getComputedStyle(a.context,null).height.replace("px",""),r=myMdwHelper.getValueFromData(t.inputMessage,""),i=new Vue({el:a.find(".materialdesign-vuetifyTextField").get(0),vuetify:new Vuetify,data:()=>({value:vis.states.attr(t.oid+".val"),height:e,label:myMdwHelper.getValueFromData(t.inputLabelText,""),type:myMdwHelper.getValueFromData(t.inputType,"text"),maxlength:myMdwHelper.getNumberFromData(t.inputMaxLength,""),messages:r,counter:t.showInputCounter,rules:{required:e=>!0,counter:e=>e.length<=20||"Max 20 characters"}}),methods:{changeEvent(e){vis.setValue(t.oid,e)}}});""===r&&a.find(".v-counter").css("width","100%").css("text-align","right").css("margin-top","5px"),"filled"!==l?(a.context.style.setProperty("--vue-text-field-background-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,"transparent")),a.context.style.setProperty("--vue-text-field-background-hover-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColorHover,myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,"transparent"))),a.context.style.setProperty("--vue-text-field-background-after-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColorSelected,myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,"transparent")))):(a.context.style.setProperty("--vue-text-field-background-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,"")),a.context.style.setProperty("--vue-text-field-background-hover-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColorHover,myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,""))),a.context.style.setProperty("--vue-text-field-background-after-color",myMdwHelper.getValueFromData(t.inputLayoutBackgroundColorSelected,myMdwHelper.getValueFromData(t.inputLayoutBackgroundColor,"")))),a.context.style.setProperty("--vue-text-field-label-before-color",myMdwHelper.getValueFromData(t.inputLabelColor,"")),a.context.style.setProperty("--vue-text-field-label-after-color",myMdwHelper.getValueFromData(t.inputLabelColorSelected,"")),a.context.style.setProperty("--vue-text-field-label-font-family",myMdwHelper.getValueFromData(t.inputLabelFontFamily,"")),a.context.style.setProperty("--vue-text-field-label-font-size",myMdwHelper.getNumberFromData(t.inputLabelFontSize,"16")+"px"),a.context.style.setProperty("--vue-text-field-input-text-color",myMdwHelper.getValueFromData(t.inputTextColor,"")),a.context.style.setProperty("--vue-text-field-input-text-font-size",myMdwHelper.getNumberFromData(t.inputTextFontSize,"16")+"px"),a.context.style.setProperty("--vue-text-field-input-text-font-family",myMdwHelper.getValueFromData(t.inputTextFontFamily,"")),a.context.style.setProperty("--vue-text-field-message-color",myMdwHelper.getValueFromData(t.inputMessageColor,"")),a.context.style.setProperty("--vue-text-field-message-font-size",myMdwHelper.getNumberFromData(t.inputMessageFontSize,"12")+"px"),a.context.style.setProperty("--vue-text-field-message-font-family",myMdwHelper.getValueFromData(t.inputMessageFontFamily,"")),a.context.style.setProperty("--vue-text-field-counter-color",myMdwHelper.getValueFromData(t.inputCounterColor,"")),a.context.style.setProperty("--vue-text-field-counter-font-size",myMdwHelper.getNumberFromData(t.inputCounterFontSize,"12")+"px"),a.context.style.setProperty("--vue-text-field-counter-font-family",myMdwHelper.getValueFromData(t.inputCounterFontFamily,"")),vis.states.bind(t.oid+".val",function(e,t,a){i.value=t})})})}catch(e){console.exception(`[Vuetify Input]: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.list={initialize:function(e){try{let a=myMdwHelper.getValueFromData(e.listItemHeight,"","height: ","px !important;");"buttonToggle_readonly"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch_readonly"!==e.listType||(a+="cursor: default; pointer-events: none;");let l=myMdwHelper.getFontSize(e.listItemHeaderTextSize),r=myMdwHelper.getFontSize(e.listItemTextSize),i=myMdwHelper.getFontSize(e.listItemSubTextSize),o=myMdwHelper.getFontSize(e.listItemTextRightSize),s=myMdwHelper.getFontSize(e.listItemSubTextRightSize),n=myMdwHelper.getValueFromData(e.listImageHeight,"","height: ","px !important;"),d=myMdwHelper.getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),m=myMdwHelper.getValueFromData(e.rightTextWidth,"","","px"),c="",u="";"text"===e.listType?c=" mdc-list--non-interactive":"checkbox"!==e.listType&&"checkbox_readonly"!==e.listType&&"switch"!==e.listType&&"switch_readonly"!==e.listType||(u='role="checkbox"');let p=[],g="";"card"===e.listLayout?g="materialdesign-list-card":"cardOutlined"===e.listLayout&&(g="materialdesign-list-card materialdesign-list-card--outlined");for(var t=0;t<=e.count;t++){let c=myMdwHelper.getValueFromData(e.attr("groupHeader"+t),null),g=myMdwHelper.getValueFromData(e.attr("label"+t),`Item ${t}`),y=myMdwHelper.getValueFromData(e.attr("subLabel"+t),""),b=myMdwHelper.getValueFromData(e.attr("listImage"+t),""),w=myMdwHelper.getValueFromData(e.attr("rightLabel"+t),""),v=myMdwHelper.getValueFromData(e.attr("rightSubLabel"+t),"");p.push(myMdwHelper.getListItemHeader(c,l));let h=myMdwHelper.getListItem("standard",t,"",!1,!1,a,`data-oid="${e.attr("oid"+t)}"`,u).replace(" mdc-list-item--activated",""),f="";f=""===y?myMdwHelper.getListItemLabel("standard",t,g,!1,r,"","","",!1,e.listItemAlignment):myMdwHelper.getListItemTextElement(g,y,r,i,e.listItemAlignment);let M="";""===v?(M=myMdwHelper.getListItemLabel("standard",t,w,!1,o,"","",""),M=$($.parseHTML(M)),M.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta")):(M=myMdwHelper.getListItemTextElement(w,v,o,s),M=$($.parseHTML(M)),M.addClass("mdc-list-item__meta"),M.find(".mdc-list-item__primary-text").css("justify-content","flex-end").css("width","auto").addClass("materialdesign-list-item-text-right"),M.find(".mdc-list-item__secondary-text").addClass("materialdesign-list-item-text-right")),M.css("text-align","right").css("width",m);let F=myMdwHelper.getListItemImage(b,`${n}${d}`),x="";"checkbox"===e.listType||"checkbox_readonly"===e.listType?x=`<div class="mdc-checkbox ${"checkbox_readonly"===e.listType?"mdc-checkbox--disabled":""} mdc-list-item__meta">\n                                        <input type="checkbox" class="mdc-checkbox__native-control" tabindex="-1" data-oid="${e.attr("oid"+t)}" itemindex="${t}" />\n                                        <div class="mdc-checkbox__background">\n                                            <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">\n                                                <path class="mdc-checkbox__checkmark-path" fill="none" stroke="white" d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>\n                                            </svg>\n                                        </div>\n                                    </div>`:"switch"!==e.listType&&"switch_readonly"!==e.listType||(x=`<div class="mdc-switch ${"switch_readonly"===e.listType?"mdc-switch--disabled":""} mdc-list-item__meta">\n                                        <div class="mdc-switch__track"></div>\n                                        <div class="mdc-switch__thumb-underlay">\n                                            <div class="mdc-switch__thumb">\n                                                <input type="checkbox" id="basic-switch" class="mdc-switch__native-control" role="switch" data-oid="${e.attr("oid"+t)}" itemindex="${t}">\n                                            </div>\n                                        </div>\n                                    </div>`),p.push(`${h}${F}${f}${x}${M.get(0).outerHTML}</div>`),p.push(myMdwHelper.getListItemDivider(e.attr("dividers"+t),e.listItemDividerStyle))}return{itemList:p.join(""),listLayout:g,nonInteractive:c}}catch(e){console.exception(`[List] initialize: error:: ${e.message}, stack: ${e.stack}`)}},handler:function(e,t){try{let r=$(e),i=r.context;const o=new mdc.list.MDCList(i),s=o.getDefaultFoundation().adapter_;o.listElements.map(e=>new mdc.ripple.MDCRipple(e));i.style.setProperty("--materialdesign-color-list-item-background",myMdwHelper.getValueFromData(t.listItemBackground,"")),i.style.setProperty("--materialdesign-color-list-item-hover",myMdwHelper.getValueFromData(t.colorListItemHover,"")),i.style.setProperty("--materialdesign-color-list-item-selected",myMdwHelper.getValueFromData(t.colorListItemSelected,"")),i.style.setProperty("--materialdesign-color-list-item-text",myMdwHelper.getValueFromData(t.colorListItemText,"")),i.style.setProperty("--materialdesign-color-list-item-text-activated",myMdwHelper.getValueFromData(t.colorListItemText,"")),i.style.setProperty("--materialdesign-color-list-item-text-secondary",myMdwHelper.getValueFromData(t.colorListItemTextSecondary,"")),i.style.setProperty("--materialdesign-color-list-item-text-right",myMdwHelper.getValueFromData(t.colorListItemTextRight,"")),i.style.setProperty("--materialdesign-color-list-item-text-secondary-right",myMdwHelper.getValueFromData(t.colorListItemTextSecondaryRight,"")),i.style.setProperty("--materialdesign-color-list-item-header",myMdwHelper.getValueFromData(t.colorListItemHeaders,"")),i.style.setProperty("--materialdesign-color-list-item-divider",myMdwHelper.getValueFromData(t.colorListItemDivider,"")),i.style.setProperty("--mdc-theme-secondary",myMdwHelper.getValueFromData(t.colorCheckBox,"")),vis.editMode||o.listen("MDCList:action",function(e){let a=e.detail.index;if("text"!==t.listType&&vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"checkbox"===t.listType||"switch"===t.listType){let e=s.isCheckboxCheckedAtIndex(a);vis.setValue(t.attr("oid"+a),e),l(a,e)}else if("buttonToggle"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");vis.setValue(t.attr("oid"+a),!e),l(a,!e)}else if("buttonState"===t.listType){let e=t.attr("listTypeButtonStateValue"+a);vis.setValue(t.attr("oid"+a),e)}else"buttonNav"===t.listType?vis.changeView(t.attr("listTypeButtonNav"+a)):"buttonLink"===t.listType&&window.open(t.attr("listTypeButtonLink"+a))});let n="switch"===t.listType||"switch_readonly"===t.listType?r.find(".mdc-switch").length:o.listElements.length;for(var a=0;a<=n-1;a++)if("checkbox"===t.listType||"checkbox_readonly"===t.listType||"switch"===t.listType||"switch_readonly"===t.listType){if("switch"!==t.listType&&"switch_readonly"!==t.listType||new mdc.switchControl.MDCSwitch(r.find(".mdc-switch").get(a)),"checkbox"===t.listType||"checkbox_readonly"===t.listType){let e=new mdc.checkbox.MDCCheckbox(r.find(".mdc-checkbox").get(a));"checkbox_readonly"===t.listType&&(e.disabled=!0)}let e=vis.states.attr(t.attr("oid"+a)+".val");s.setCheckedCheckboxOrRadioAtIndex(a,e),l(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let i=r.find('input[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');i.each(function(e){let a=i.eq(e).attr("itemindex");s.setCheckedCheckboxOrRadioAtIndex(a,t),l(a,t)})})}else if("buttonToggle"===t.listType||"buttonToggle_readonly"===t.listType){let e=vis.states.attr(t.attr("oid"+a)+".val");l(a,e),vis.states.bind(t.attr("oid"+a)+".val",function(e,t,a){let i=r.parent().find('div[data-oid="'+e.type.substr(0,e.type.lastIndexOf("."))+'"]');i.each(function(e){let a=parseInt(i.eq(e).attr("id").replace("listItem_",""));l(a,t)})})}function l(e,a){let l=r.find(`div[id="listItem_${e}"]`),i=l.find(".mdc-list-item__graphic");!0===a?(l.css("background",myMdwHelper.getValueFromData(t.listItemBackgroundActive,"")),i.attr("src",myMdwHelper.getValueFromData(t.attr("listImageActive"+e),myMdwHelper.getValueFromData(t.attr("listImage"+e),"")))):(l.css("background",myMdwHelper.getValueFromData(t.listItemBackground,"")),i.attr("src",myMdwHelper.getValueFromData(t.attr("listImage"+e),"")))}}catch(e){console.exception(`[List] handler: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.progress=function(e,t){try{let l=$(e),r=l.context;var a=l.attr("data-oid");const i=new mdc.linearProgress.MDCLinearProgress(r);setTimeout(function(){function e(){var e=vis.states.attr(a+".val");!0!==e&&"true"!==e||(e=o),!1!==e&&"false"!==e||(e=r),e=parseFloat(e),isNaN(e)&&(e=r),e<r&&(e=r),e>o&&(e=o);let t=100,g=o-r,y=t/g;e=Math.floor((e-r)*y),i.progress=e/100;let b=Math.round(vis.states.attr(a+".val")*Math.pow(10,n))/Math.pow(10,n);l.parents(".materialdesign.vis-widget-body").find(".labelValue").html("&nbsp;"+b+s+"&nbsp;"),b>m&&b<=u?l.find(".mdc-linear-progress__bar-inner").css("border-top-color",c):b>u?l.find(".mdc-linear-progress__bar-inner").css("border-top-color",p):l.find(".mdc-linear-progress__bar-inner").css("border-top-color",d)}var r=myMdwHelper.getValueFromData(t.min,0),o=myMdwHelper.getValueFromData(t.max,1),s=myMdwHelper.getValueFromData(t.valueLabelUnit,""),n=myMdwHelper.getValueFromData(t.valueMaxDecimals,0);i.reverse=t.reverse;var d=myMdwHelper.getValueFromData(t.colorProgress,""),m=myMdwHelper.getValueFromData(t.colorOneCondition,0),c=myMdwHelper.getValueFromData(t.colorOne,""),u=myMdwHelper.getValueFromData(t.colorTwoCondition,0),p=myMdwHelper.getValueFromData(t.colorTwo,"");""===c&&(c=d),""===p&&(p=d),e(),vis.states.bind(a+".val",function(t,a,l){e()})},1)}catch(e){console.exception(`[Progress]: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.roundslider=function(e,t){try{let l=$(e),r=l.attr("data-oid-working"),i=vis.binds.materialdesign.helper,o=vis.states.attr(t.oid+".val"),s=myMdwHelper.getNumberFromData(t.min,0),n=myMdwHelper.getValueFromData(t.valueLabelMin,null),d=myMdwHelper.getNumberFromData(t.max,100),m=myMdwHelper.getValueFromData(t.valueLabelMax,null),c=myMdwHelper.getValueFromData(t.valueLabelUnit,""),u=myMdwHelper.getNumberFromData(t.valueLessThan,s),p=myMdwHelper.getValueFromData(t.textForValueLessThan,null),g=myMdwHelper.getNumberFromData(t.valueGreaterThan,d),y=myMdwHelper.getValueFromData(t.textForValueGreaterThan,null),b=0;!0!==t.showValueLabel&&"true"!==t.showValueLabel||(b=t.valueLabelWidth),l.append(`<round-slider class="materialdesign-round-slider-element"\n                            value=${o} \n                            max="${d}" \n                            min="${s}"\n                            step="${myMdwHelper.getNumberFromData(t.step,1)}"\n                            startAngle="${myMdwHelper.getNumberFromData(t.startAngle,135)}"\n                            arcLength="${myMdwHelper.getNumberFromData(t.arcLength,270)}"\n                            handleSize="${myMdwHelper.getNumberFromData(t.handleSize,6)}"\n                            handleZoom="${myMdwHelper.getNumberFromData(t.handleZoom,1.5)}"\n                            ${!0===t.rtl?'rtl = "true"':""}\n                            style="position: absolute;"\n                            >\n                            </round-slider>\n                            \n                            ${t.showValueLabel?`<label class="labelValue" \n                                    style="position: relative; \n                                    text-align: center;\n                                    display: flex;\n                                    justify-content: center;\n                                    pointer-events: none;\n                                    top: ${myMdwHelper.getNumberFromData(t.valueLabelVerticalPosition,45)}%; \n                                    color: ${myMdwHelper.getValueFromData(t.valueLabelColor,"#44739e")};">\n                                        ${o} ${c}\n                                </label>`:""}\n                            `);let w=l.find(".materialdesign-round-slider-element");function a(e=!0,a=0){!1!==vis.states.attr(r+".val")&&"false"!==vis.states.attr(r+".val")&&vis.states.attr(r+".val")||(e&&(a=vis.states.attr(t.oid+".val"),w.attr("value",a)),a<=s&&null!=n?l.find(".labelValue").html(n):a>s&&a<=u&&null!=p?l.find(".labelValue").html(p):a>=g&&a<d&&null!=y?l.find(".labelValue").html(y):a>=d&&null!=m?l.find(".labelValue").html(m):l.find(".labelValue").html(`${a} ${c}`))}w.get(0).style.setProperty("--round-slider-path-width",myMdwHelper.getNumberFromData(t.sliderWidth,3)),w.get(0).style.setProperty("background",myMdwHelper.getValueFromData(t.colorSliderBg,"")),w.get(0).style.setProperty("--round-slider-path-color",myMdwHelper.getValueFromData(t.colorAfterThumb,"")),w.get(0).style.setProperty("--round-slider-bar-color",myMdwHelper.getValueFromData(t.colorBeforeThumb,"#44739e")),w.get(0).style.setProperty("--round-slider-handle-color",myMdwHelper.getValueFromData(t.colorThumb,"")),a(),vis.states.bind(t.oid+".val",function(e,t,l){a()}),vis.states.bind(r+".val",function(e,t,l){a()}),w.bind("value-changing",function(e){a(!1,e.target.__value)}),w.bind("value-changed",function(e){let l=parseFloat(e.target.__value);!1!==vis.states.attr(r+".val")&&"false"!==vis.states.attr(r+".val")&&vis.states.attr(r+".val")||(vis.setValue(t.oid,l),a())}),l.find(".materialdesign-round-slider-element").on("touchstart mousedown",function(e){i.vibrate(t.vibrateOnMobilDevices)})}catch(e){console.exception(`[Round Slider] error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.select={initialize:function(e,t=!1){try{let l=[],r=myMdwHelper.getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),i=myMdwHelper.getFontSize(e.listItemTextSize),o=myMdwHelper.getValueFromData(e.distanceBetweenTextAndImage,"","margin-right: ","px;"),s=myMdwHelper.getValueFromData(e.menuWidth,"","width: ","px;"),n="",d="",m="";"standard"===e.layout?(n=`<div class="mdc-select" style="width: 100%; z-index: ${myMdwHelper.getNumberFromData(e.z_index,0)}">`,d="filled_enhanced filled_enhanced-label",m=`<span class="mdc-floating-label mdc-floating-label--float-above">${myMdwHelper.getValueFromData(e.hintText,"")}</span>\n                                <div class="mdc-line-ripple"></div>`):(n='<div class="mdc-select mdc-select--outlined" style="width: 100%;">',d="shaped_filled_enhanced shaped_filled_enhanced-label",m=`<div class="mdc-notched-outline">\n                                    <div class="mdc-notched-outline__leading"></div>\n                                    <div class="mdc-notched-outline__notch">\n                                        <label class="mdc-floating-label">${myMdwHelper.getValueFromData(e.hintText,"")}</label>\n                                    </div>\n                                    <div class="mdc-notched-outline__trailing"></div>\n                                </div>`);let c="",u=[],p="";if(t){let t=myMdwHelper.getValueFromData(e.image,null),a=myMdwHelper.getValueFromData(e.imageTrue,null);null==t&&null==a||(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),c=`<img class="mdc-select__icon" tabindex="0" role="button" src="${t}" />`),u.push(`${myMdwHelper.getListItem("standard",0,"",!1,!1,r,"","",!1)}\n                                                ${null!=t?myMdwHelper.getListItemImage(t,`${r}${o}`):""}\n                                                ${myMdwHelper.getListItemLabel("standard",0,myMdwHelper.getValueFromData(e.text_false,"Item false"),!1,i,"",0)}</div>`),u.push(`${myMdwHelper.getListItem("standard",1,"",!1,!1,r,"","",!0)}\n                                                ${null!=a?myMdwHelper.getListItemImage(a,`${r}${o}`):""}\n                                                ${myMdwHelper.getListItemLabel("standard",1,myMdwHelper.getValueFromData(e.text_true,"Item true"),!1,i,"",0)}</div>`)}else{let t=!1,l="";for(var a=0;a<=e.values;a++){let s=myMdwHelper.getValueFromData(e.attr("menuIcon"+a),null);if(u.push(`${myMdwHelper.getListItem("standard",a,"",!1,!1,r,"","",myMdwHelper.getValueFromData(e.attr("value"+a),""))}\n                                                ${null!=s?myMdwHelper.getListItemImage(s,`${r}${o}`):""}\n                                                ${$($.parseHTML(myMdwHelper.getListItemLabel("standard",0,myMdwHelper.getValueFromData(e.attr("label"+a),myMdwHelper.getValueFromData(e.attr("value"+a),`no value for Item ${a}`)),!1,i,"",0))).css("width","").get(0).outerHTML}`),null!==s&&(t=!0,l=s),e.showValueOnRight){let t=myMdwHelper.getFontSize(e.valueRightFontsize);p=myMdwHelper.getListItemLabel("standard",a,myMdwHelper.getValueFromData(e.attr("value"+a))+myMdwHelper.getValueFromData(e.valueRightAppendix,""),!1,t,"","",""),p=$($.parseHTML(p)).css("width","auto"),p=p.addClass("materialdesign-list-item-text-right").addClass("mdc-list-item__meta").get(0).outerHTML,u.push(p)}u.push("</div>")}t&&(n=$($.parseHTML(n)).addClass("mdc-select--with-leading-icon").get(0).outerHTML.replace("</div>",""),c=`<img class="mdc-select__icon" tabindex="0" role="button" src="${l}" />`)}let g=myMdwHelper.getFontSize(e.selectTextSize);return l.push(`${n}\n                                        <div class="mdc-select__anchor">\n                                            ${c}\n                                            <i class="mdc-select__dropdown-icon"></i>\n                                            <div id="filled_enhanced" \n                                                class="mdc-select__selected-text ${g.class}" \n                                                role="button" \n                                                aria-haspopup="listbox" \n                                                aria-labelledby="${d}"\n                                                style="${g.style}; font-family: ${myMdwHelper.getValueFromData(e.selectTextFont,"")};">\n                                            </div>\n                                            ${m}\n                                        </div>\n                                        <div class="mdc-select__menu mdc-menu mdc-menu-surface" style="${s}; z-index: ${myMdwHelper.getNumberFromData(e.z_index,0)}">\n                                            <ul class="mdc-list">\n                                                ${u.join("")}\n                                            </ul>\n                                        </div>\n                                        \n                                    </div>`),l.join("")}catch(e){console.exception(`[Select] initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t,a){try{setTimeout(function(){function l(e){if(a)e?(s.selectedIndex=1,n.selectedIndex=1,r.find(".mdc-select__icon").attr("src",myMdwHelper.getValueFromData(t.imageTrue,""))):(s.selectedIndex=0,n.selectedIndex=0,r.find(".mdc-select__icon").attr("src",myMdwHelper.getValueFromData(t.image,"")));else for(var l=0;l<=t.values;l++)if(e.toString()===myMdwHelper.getValueFromData(t.attr("value"+l),"").toString()){s.selectedIndex=l,n.selectedIndex=l,r.find(".mdc-select__icon").attr("src",myMdwHelper.getValueFromData(t.attr("menuIcon"+l),""));break}}var r=$(e);let i=r.find(".mdc-select").get(0),o=r.find(".mdc-list").get(0);const s=new mdc.select.MDCSelect(i),n=new mdc.list.MDCList(o);n.listElements.map(e=>new mdc.ripple.MDCRipple(e));i.style.setProperty("--materialdesign-color-select-background",myMdwHelper.getValueFromData(t.selectBackground,"")),i.style.setProperty("--materialdesign-color-select-background-hover",myMdwHelper.getValueFromData(t.selectBackgroundHover,"")),i.style.setProperty("--materialdesign-color-select-hint",myMdwHelper.getValueFromData(t.selectHintTextColor,"")),i.style.setProperty("--materialdesign-color-select-hint_selected",myMdwHelper.getValueFromData(t.selectHintTextColorSelected,"")),i.style.setProperty("--materialdesign-color-select-border",myMdwHelper.getValueFromData(t.selectBorderColor,"")),i.style.setProperty("--materialdesign-color-select-border-selected",myMdwHelper.getValueFromData(t.selectBorderColorSelected,"")),i.style.setProperty("--materialdesign-color-select-text",myMdwHelper.getValueFromData(t.selectTextColor,""));let d=myMdwHelper.getValueFromData(t.colorDrawerBackground,"");o.style.setProperty("--materialdesign-color-drawer-background",d),o.style.setProperty("--materialdesign-color-list-item-background",myMdwHelper.getValueFromData(t.colorDrawerItemBackground,d)),o.style.setProperty("--materialdesign-color-list-item-selected",myMdwHelper.getValueFromData(t.colorListItemSelected,"")),o.style.setProperty("--materialdesign-color-list-item-hover",myMdwHelper.getValueFromData(t.colorListItemHover,"")),o.style.setProperty("--materialdesign-color-list-item-text",myMdwHelper.getValueFromData(t.colorListItemText,"")),o.style.setProperty("--materialdesign-color-list-item-text-activated",myMdwHelper.getValueFromData(t.colorListItemTextSelected,"")),o.style.setProperty("--materialdesign-color-list-item-text-right",myMdwHelper.getValueFromData(t.colorListItemTextRight,"")),l(vis.states.attr(t.oid+".val")),vis.states.bind(t.oid+".val",function(e,t,a){l(t)}),vis.editMode||s.listen("MDCSelect:change",function(){a?vis.setValue(t.oid,"true"===s.value):vis.setValue(t.oid,s.value),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),r.find(".mdc-select").click(function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)})},1)}catch(e){console.exception(`[Select] handleBoolean: error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.slider={vuetifySlider:function(e,t){try{let a=$(e),l=a.attr("data-oid-working"),r="#44739e",i=myMdwHelper.getValueFromData(t.min,0),o=myMdwHelper.getValueFromData(t.valueLabelMin,null),s=myMdwHelper.getValueFromData(t.max,100),n=myMdwHelper.getValueFromData(t.valueLabelMax,null),d=myMdwHelper.getValueFromData(t.valueLabelUnit,""),m=myMdwHelper.getValueFromData(t.valueLessThan,i),c=myMdwHelper.getValueFromData(t.textForValueLessThan,null),u=myMdwHelper.getValueFromData(t.valueGreaterThan,s),p=myMdwHelper.getValueFromData(t.textForValueGreaterThan,null);a.append(`\n            <div class="materialdesign-vuetifySlider" style="width: 100%; height: 100%;">\n                <div class="v-row" style="align-items: center">\n                    <v-slider\n                        v-model="value"\n                        :vertical="vertical"\n                        :min="min"\n                        :max="max"\n                        :step="step"\n                        :ticks="ticks"\n                        :tick-size="tickSize"\n                        :tick-labels="tickLabels"\n                        :thumb-label="thumbLabel"\n                        :thumb-size="thumbSize"\n                        :loader-height="loaderHeight"\n                        :track-fill-color="trackFillColor"\n                        :thumb-color="thumbColor"\n                        :track-color="trackColor"                        \n                        always-dirty\n                        hide-details\n                        ${null!==myMdwHelper.getValueFromData(t.prepandText,null)?`label="${t.prepandText}"`:""}\n                        ${t.readOnly?"disabled":""}\n                        @change="changeEvent"\n                        @input="inputEvent"\n                    >\n                    </v-slider>\n                    ${t.showValueLabel?`<span class="slider-value" style="width: ${myMdwHelper.getNumberFromData(t.valueLabelWidth,0)}px; text-align:right; white-space: nowrap;">0</span>`:""}\n                </div>\n            </div>`);let g=!1;"yes"===myMdwHelper.getValueFromData(t.showTicks,"no")&&(g=!0),"always"===myMdwHelper.getValueFromData(t.showTicks,"no")&&(g="always");let y=!1;"yes"===myMdwHelper.getValueFromData(t.showThumbLabel,"no")&&(y=!0),"always"===myMdwHelper.getValueFromData(t.showThumbLabel,"no")&&(y="always"),myMdwHelper.waitForElement(a,".materialdesign-vuetifySlider",function(){myMdwHelper.waitForElement($("body"),"#materialdesign-vuetify-container",function(){function e(e=!0,r=0){!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||(e&&(r=vis.states.attr(t.oid+".val"),b.value=r),r<=i&&null!=o?(a.find(".slider-value").html(o),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(o)):r>i&&r<=m&&null!=c?(a.find(".slider-value").html(c),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(c)):r>=u&&r<s&&null!=p?(a.find(".slider-value").html(p),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(p)):r>=s&&null!=n?(a.find(".slider-value").html(n),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(n)):(a.find(".slider-value").html(`${r} ${d}`),t.useLabelRules&&a.find(".v-slider__thumb-label").find("span").html(`${r} ${d}`)))}let b=new Vue({el:a.find(".materialdesign-vuetifySlider").get(0),vuetify:new Vuetify({rtl:t.reverseSlider}),data:()=>({value:vis.states.attr(t.oid+".val"),vertical:"horizontal"!==myMdwHelper.getValueFromData(t.orientation,"horizontal"),min:i,max:s,step:myMdwHelper.getNumberFromData(t.step,1),ticks:g,tickSize:myMdwHelper.getNumberFromData(t.tickSize,1),tickLabels:null!==myMdwHelper.getValueFromData(t.tickLabels,null)?t.tickLabels.split(","):[],thumbLabel:y,thumbSize:myMdwHelper.getNumberFromData(t.thumbSize,32),loaderHeight:"30px",trackFillColor:myMdwHelper.getValueFromData(t.colorBeforeThumb,r),thumbColor:myMdwHelper.getValueFromData(t.colorThumb,r),trackColor:myMdwHelper.getValueFromData(t.colorAfterThumb,"rgba(161, 161, 161, 0.26)")}),mounted:function(){},methods:{changeEvent(a){!1!==vis.states.attr(l+".val")&&"false"!==vis.states.attr(l+".val")&&vis.states.attr(l+".val")||vis.setValue(t.oid,a),e()},inputEvent(t){e(!1,t)}}});if(a.find(".materialdesign-vuetifySlider").on("touchstart mousedown",function(){myMdwHelper.vibrate(t.vibrateOnMobilDevices)}),"vertical"===myMdwHelper.getValueFromData(t.orientation,"horizontal")){let e=window.getComputedStyle(a.context,null).height.replace("px",""),t=a.find(".v-slider--vertical");e=e-t.css("margin-top").replace("px","")-t.css("margin-bottom").replace("px",""),t.css("height",e+"px")}a.context.style.setProperty("--vue-slider-thumb-label-font-color",myMdwHelper.getValueFromData(t.thumbFontColor,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-family",myMdwHelper.getValueFromData(t.thumbFontFamily,"")),a.context.style.setProperty("--vue-slider-thumb-label-font-size",myMdwHelper.getValueFromData(t.thumbFontSize,"12","","px")),a.find(".v-slider__thumb-label").css("background-color",myMdwHelper.getValueFromData(t.thumbBackgroundColor,myMdwHelper.getValueFromData(t.colorThumb,r))),a.context.style.setProperty("--vue-slider-tick-before-color",myMdwHelper.getValueFromData(t.tickColorBefore,"")),a.context.style.setProperty("--vue-slider-tick-after-color",myMdwHelper.getValueFromData(t.tickColorAfter,"")),a.find(".v-slider__thumb-container").css("height","0px"),"knobMedium"===t.knobSize&&a.find(".v-slider__thumb").addClass("medium-size"),"knobBig"===t.knobSize&&a.find(".v-slider__thumb").addClass("big-size"),e(),vis.states.bind(t.oid+".val",function(t,a,l){e()}),vis.states.bind(l+".val",function(t,a,l){e()})})})}catch(e){console.exception(`[Vuetify Slider]: error: ${e.message}, stack: ${e.stack}`)}},mdcSlider:function(e,t,a=!1){try{
let l=$(e),r=myMdwHelper.getValueFromData(t.min,0),i=myMdwHelper.getValueFromData(t.valueLabelMin,null),o=myMdwHelper.getValueFromData(t.max,1),s=myMdwHelper.getValueFromData(t.valueLabelMax,null),n=myMdwHelper.getValueFromData(t.valueLabelUnit,""),d=myMdwHelper.getValueFromData(t.valueLessThan,r),m=myMdwHelper.getValueFromData(t.textForValueLessThan,null),c=myMdwHelper.getValueFromData(t.valueGreaterThan,o),u=myMdwHelper.getValueFromData(t.textForValueGreaterThan,null),p="";"true"!==t.showMarkers&&!0!==t.showMarkers||(p="mdc-slider--display-markers"),setTimeout(function(){let e=vis.states.attr(t.oid+".val"),g=(e-t.min)/(t.max-t.min),y=window.getComputedStyle(l.context,null).width.replace("px",""),b=0;!0!==t.showValueLabel&&"true"!==t.showValueLabel||(b=t.valueLabelWidth);let w=(y-b)*g,v="";v=a?`<span style="color:red"><b>Will be removed in next Version! Please use the new slider!</b></span>\n                        <div class="mdc-slider mdc-slider--discrete ${p}" tabindex="0" role="slider" aria-valuemin="${t.min}" aria-valuemax="${t.max}" aria-valuenow="${e}" data-step="${t.step}">\n                        <div class="mdc-slider__track-container">\n                            <div class="mdc-slider__track" style="transform: scaleX(${g});"></div>\n                            <div class="mdc-slider__track-marker-container"></div>\n                        </div>\n                        <div class="mdc-slider__thumb-container" style="transform: translateX(${w}px) translateX(-50%);">\n                            <div class="mdc-slider__pin">\n                                <span class="mdc-slider__pin-value-marker"></span>\n                            </div>\n                            <svg class="mdc-slider__thumb" width="21" height="21">\n                                <circle cx="10.5" cy="10.5" r="7.875"></circle>\n                            </svg>\n                            <div class="mdc-slider__focus-ring"></div>\n                        </div>\n                    </div>`:`<span style="color:red"><b>Will be removed in next Version! Please use the new slider!</b></span>\n                        <div class="mdc-slider" tabindex="0" role="slider" style="<%= colorSlider %>" aria-valuemin="${t.min}" aria-valuemax="${t.max}" aria-valuenow="${e}" data-step="${t.step}">\n                            <div class="mdc-slider__track-container">\n                                <div class="mdc-slider__track" style="transform: scaleX(${g});"></div>\n                            </div>\n                            <div class="mdc-slider__thumb-container" style="transform: translateX(${w}px) translateX(-50%);">\n                                <svg class="mdc-slider__thumb" width="21" height="21">\n                                    <circle cx="10.5" cy="10.5" r="7.875"></circle>\n                                </svg>\n                                <div class="mdc-slider__focus-ring"></div>\n                            </div>\n                        </div>`,b>0&&(v+=`<span class="labelValue" style="width: ${b}px; text-align: right;">${e} ${n}</span>`),l.html(`<div class="materialdesign vis-widget-body" style="display: flex; justify-content: center; align-items: center;">\n                                ${v}\n                            </div>`);let h=l.find(".mdc-slider").get(0);if(h.style.setProperty("--materialdesign-color-slider-before-thumb",myMdwHelper.getValueFromData(t.colorBeforeThumb,"")),h.style.setProperty("--materialdesign-color-slider-thumb",myMdwHelper.getValueFromData(t.colorThumb,"")),h.style.setProperty("--materialdesign-color-slider-after-thumb",myMdwHelper.getValueFromData(t.colorAfterThumb,"")),h.style.setProperty("--materialdesign-color-slider-track-marker",myMdwHelper.getValueFromData(t.colorTrackMarker,"")),"knobMedium"===t.knobSize?(l.find(".mdc-slider__thumb").attr("width","31").attr("height","31").css("margin-left","-5px").css("margin-top","-5px"),l.find(".mdc-slider__pin").css("margin-top","-5px"),l.find("circle").attr("cx","15.5").attr("cy","15.5").attr("r","11.8125")):"knobBig"===t.knobSize&&(l.find(".mdc-slider__thumb").attr("width","42").attr("height","42").css("margin-left","-10px").css("margin-top","-10px"),l.find(".mdc-slider__pin").css("margin-top","-7px"),l.find("circle").attr("cx","21").attr("cy","21").attr("r","15.75")),!vis.editMode){const e=new mdc.slider.MDCSlider(h);function f(a=!0,p=0){vis.states.attr(t.wid+".val")||(a&&(p=vis.states.attr(t.oid+".val"),e.value=p),p<=r&&null!=i?l.find(".labelValue").html(i):p>r&&p<=d&&null!=m?l.find(".labelValue").html(m):p>=c&&p<o&&null!=u?l.find(".labelValue").html(u):p>=o&&null!=s?l.find(".labelValue").html(s):l.find(".labelValue").html(`${p} ${n}`))}f(),e.listen("MDCSlider:change",function(){vis.setValue(t.oid,e.value)}),e.listen("MDCSlider:input",function(){f(!1,e.value)}),l.find(".mdc-slider").on("touchstart mousedown",function(e){e.preventDefault(),vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices)}),vis.states.bind(t.oid+".val",function(e,t,a){f()}),vis.states.bind(t.wid+".val",function(e,t,a){t||f()})}},t.initDelay)}catch(e){console.exception(`[MDC Slider]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.switch=function(e,t){try{var a=$(e),l=a.data("oid");let i=a.find(".mdc-switch").get(0);const o=new mdc.formField.MDCFormField(a.context),s=new mdc.switchControl.MDCSwitch(i);function r(){var e=vis.states.attr(l+".val");let r=!1;"boolean"===t.toggleType?r=e:e===parseInt(t.valueOn)||e===t.valueOn?r=!0:e!==parseInt(t.valueOn)&&e!==t.valueOn&&e!==parseInt(t.valueOff)&&e!==t.valueOff&&"on"===t.stateIfNotTrueValue&&(r=!0),s.checked=r;let i=a.find('label[id="label"]');r?(i.css("color",myMdwHelper.getValueFromData(t.labelColorTrue,"")),i.text(myMdwHelper.getValueFromData(t.labelTrue,""))):(i.css("color",myMdwHelper.getValueFromData(t.labelColorFalse,"")),i.text(myMdwHelper.getValueFromData(t.labelFalse,"")))}o.input=s,s.disabled=t.readOnly,i.style.setProperty("--materialdesign-color-switch-on",myMdwHelper.getValueFromData(t.colorSwitchTrue,"")),i.style.setProperty("--materialdesign-color-switch-off",myMdwHelper.getValueFromData(t.colorSwitchThumb,"")),i.style.setProperty("--materialdesign-color-switch-track",myMdwHelper.getValueFromData(t.colorSwitchTrack,"")),i.style.setProperty("--materialdesign-color-switch-off-hover",myMdwHelper.getValueFromData(t.colorSwitchHover,"")),r(),vis.editMode||a.find(".mdc-switch").click(function(){vis.binds.materialdesign.helper.vibrate(t.vibrateOnMobilDevices),"boolean"===t.toggleType?vis.setValue(t.oid,s.checked):!0==!s.checked?vis.setValue(t.oid,t.valueOff):vis.setValue(t.oid,t.valueOn),r()}),vis.states.bind(l+".val",function(e,t,a){r()})}catch(e){console.exception(`[Switch]: error: ${e.message}, stack: ${e.stack}`)}},vis.binds.materialdesign.table={initialize:function(e){try{let a=[],l=myMdwHelper.getFontSize(e.headerTextSize),r="";if("card"===e.tableLayout?r="materialdesign-list-card":"cardOutlined"===e.tableLayout&&(r="materialdesign-list-card materialdesign-list-card--outlined"),a.push(`<div class="mdc-data-table ${r}" style="width: 100%;">\n                                    <table class="mdc-data-table__table" aria-label="Material Design Widgets Table">`),a.push(`<thead>\n                                    <tr class="mdc-data-table__header-row" style="height: ${null!==myMdwHelper.getNumberFromData(e.headerRowHeight,null)?e.headerRowHeight+"px":"1px"};">`),e.showHeader)for(var t=0;t<=e.countCols;t++)e.attr("showColumn"+t)&&a.push(`<th class="mdc-data-table__header-cell ${l.class}" \n                                            colIndex="${t}" \n                                            role="columnheader" \n                                            scope="col" \n                                            style="text-align: ${e.attr("textAlign"+t)};\n                                                ${l.style}; \n                                                padding-left: ${myMdwHelper.getNumberFromData(e.attr("padding_left"+t),8)}px; \n                                                padding-right: ${myMdwHelper.getNumberFromData(e.attr("padding_right"+t),8)}px; \n                                                font-family: ${myMdwHelper.getValueFromData(e.headerFontFamily,"")};\n                                                ${null!==myMdwHelper.getNumberFromData(e.attr("columnWidth"+t),null)?`width: ${e.attr("columnWidth"+t)}px;`:""};">\n                                                    ${myMdwHelper.getValueFromData(e.attr("label"+t),"col "+t)}\n                                            </th>`);return a.push("</tr>\n                            </thead>"),a.push('<tbody class="mdc-data-table__content">'),null!==myMdwHelper.getValueFromData(e.oid,null)?a.push(vis.binds.materialdesign.table.getContentElements(vis.states.attr(e.oid+".val"),e)):a.push(vis.binds.materialdesign.table.getContentElements(e.dataJson,e)),a.push("</tbody>"),a.push("</table>\n                            </div>"),a.join("")}catch(e){console.exception(`[Table] initialize: error: ${e.message}, stack: ${e.stack}`)}},handle:function(e,t){try{setTimeout(function(){let a=$(e),l=a.find(".mdc-data-table").get(0);l.style.setProperty("--materialdesign-color-table-background",myMdwHelper.getValueFromData(t.colorBackground,"")),l.style.setProperty("--materialdesign-color-table-border",myMdwHelper.getValueFromData(t.borderColor,"")),l.style.setProperty("--materialdesign-color-table-header-row-background",myMdwHelper.getValueFromData(t.colorHeaderRowBackground,"")),l.style.setProperty("--materialdesign-color-table-header-row-text-color",myMdwHelper.getValueFromData(t.colorHeaderRowText,"")),l.style.setProperty("--materialdesign-color-table-row-background",myMdwHelper.getValueFromData(t.colorRowBackground,"")),l.style.setProperty("--materialdesign-color-table-row-text-color",myMdwHelper.getValueFromData(t.colorRowText,"")),l.style.setProperty("--materialdesign-color-table-row-divider",myMdwHelper.getValueFromData(t.dividers,""));new mdc.dataTable.MDCDataTable(l);vis.states.bind(t.oid+".val",function(e,l,r){a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(l,t))}),a.find(".mdc-data-table__header-cell").click(function(e){function l(e,t,a){return e.sort(function(e,l){var r=e[t],i=l[t];return a?r<i?-1:r>i?1:0:r>i?-1:r<i?1:0})}let r=$(this).attr("colIndex"),i=!0,o=[];o=null!==myMdwHelper.getValueFromData(t.oid,null)?vis.binds.materialdesign.table.getJsonData(vis.states.attr(t.oid+".val"),t):JSON.parse(t.dataJson);let s=null!==myMdwHelper.getValueFromData(t.attr("sortKey"+r),null)?t.attr("sortKey"+r):Object.keys(o[0])[r];$(this).attr("sort")?"ASC"===$(this).attr("sort")?(i=!1,$(this).attr("sort","DESC"),$(this).text().includes("▾")||$(this).text().includes("▴")?$(this).text($(this).text().replace("▾","▴")):$(this).text($(this).text()+"▴")):(i=!0,$(this).attr("sort","ASC"),$(this).text().includes("▾")||$(this).text().includes("▴")?$(this).text($(this).text().replace("▴","▾")):$(this).text($(this).text()+"▾")):(i=!0,$(this).attr("sort","ASC"),$(this).text($(this).text()+"▾")),$(".mdc-data-table__header-cell").each(function(){$(this).attr("colIndex")!==r&&$(this).text($(this).text().replace("▴","").replace("▾",""))}),a.find(".mdc-data-table__content").empty(),a.find(".mdc-data-table__content").append(vis.binds.materialdesign.table.getContentElements(null,t,l(o,s,i)))})},1)}catch(e){console.exception(`[Table] handle: error: ${e.message}, stack: ${e.stack}`)}},getContentElements:function(e,t,a=null){let l=[];if(null===a&&(a=vis.binds.materialdesign.table.getJsonData(e,t)),null!=a){for(var r=0;r<=a.length-1;r++){if(l.push(`<tr class="mdc-data-table__row" style="height: ${null!==myMdwHelper.getNumberFromData(t.rowHeight,null)?t.rowHeight+"px":"1px"};">`),a[r]){let e=Object.keys(a[r]).length-1>t.countCols?t.countCols:Object.keys(a[r]).length-1;for(var i=0;i<=e;i++)if(t.attr("showColumn"+i)){let e=myMdwHelper.getFontSize(t.attr("colTextSize"+i));l.push(o(i,Object.values(a[r])[i],e,a[r]))}}l.push("</tr>")}function o(e,a,l,r=null){let i=myMdwHelper.getValueFromData(t.attr("prefix"+e),""),o=myMdwHelper.getValueFromData(t.attr("suffix"+e),"");if(null!=r){function s(e,t){let a=e.match(/(#\[obj\..*?\])/g);if(a&&a.length>0)for(var l=0;l<=a.length-1;l++){let r=a[l].replace("#[obj.","").replace("]","");e=r&&t[r]?e.replace(a[l],t[r]):e.replace(a[l],"")}return e}""!==i&&(i=s(i,r)),""!==o&&(o=s(o,r))}return"image"===t.attr("colType"+e)&&(a=`<img src="${a}" style="height: auto; vertical-align: middle; width: ${myMdwHelper.getValueFromData(t.attr("imageSize"+e),"","","px;")}">`),`<td class="mdc-data-table__cell ${l.class}" \n                            style="\n                            text-align: ${t.attr("textAlign"+e)};${l.style}; \n                            padding-left: ${myMdwHelper.getNumberFromData(t.attr("padding_left"+e),8)}px; \n                            padding-right: ${myMdwHelper.getNumberFromData(t.attr("padding_right"+e),8)}px; \n                            color: ${myMdwHelper.getValueFromData(t.attr("colTextColor"+e),"")}; \n                            font-family: ${myMdwHelper.getValueFromData(t.attr("fontFamily"+e),"")};\n                            white-space: ${t.attr("colNoWrap"+e)?"nowrap":"unset"};\n                            ">\n                                ${i}${a}${o}\n                        </td>`}return l.join("")}},getJsonData:function(e,t){let a=[];if(e&&"string"==typeof e)try{a=JSON.parse(e)}catch(t){console.error(`input: ${e}, error: ${t.message}`)}else if(a=e,!Array.isArray(a)){a=Object.keys(a).map(function(e){return a[e]});let e=[];for(var l=0;l<=Object.keys(a).length-1;l++)a[l]._data&&e.push(a[l]._data);a=e}return a}},vis.binds.materialdesign.topappbarnav={initializeTopAppBar:function(e){try{let t="",a=myMdwHelper.getValueFromData(e.topAppBarZ_index,"","z-index: ",";"),l=`style="${a}"`,r="",i="";return"standard"===e.topAppBarLayout?i="mdc-top-app-bar--fixed-adjust":"dense"===e.topAppBarLayout?(t="mdc-top-app-bar--dense",i="mdc-top-app-bar--dense-fixed-adjust"):"short"===e.topAppBarLayout&&(t="mdc-top-app-bar--short mdc-top-app-bar--short-collapsed",i="mdc-top-app-bar--short-fixed-adjust"),"modal"===e.drawerLayout&&(r=`<button \n                                        class="mdc-icon-button material-icons mdc-top-app-bar__navigation-icon mdc-ripple-upgraded--unbounded mdc-ripple-upgraded" \n                                        style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;${myMdwHelper.getValueFromData(e.colorTopAppBarTitle,"","color: ",";")}">\n                                            menu\n                                        </button>`),{headerLayout:t,headerStyle:l,contentLayout:i,headerButtonShow:r}}catch(t){console.exception(`initializeTopAppBar [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},initializeDrawer:function(e){try{let r=[],i=[],o="",s="",n="",d="";return t(),a(),l(),{viewsList:r,drawerItemList:i.join(""),drawerHeader:o,drawerLayout:s,drawerStyle:n,drawerModalScrim:d};function t(){let t=myMdwHelper.getValueFromData(e.drawerWidth,"","width: ","px;"),a="",l="";void 0!==e.z_index&&null!==e.z_index&&""!==e.z_index&&(a=`z-index: ${e.z_index};`,l=`z-index: ${e.z_index-1};`),"modal"===e.drawerLayout?(s="mdc-drawer--modal",d=`<div class="mdc-drawer-scrim" style="${l}"></div>`):s="mdc-drawer--dismissible mdc-drawer--open",n=`style="${t}${a}"`}function a(){!0!==e.attr("showHeader")&&"true"!==e.attr("showHeader")||(o=`<div \n                                        class="mdc-drawer__header" \n                                        ${myMdwHelper.getValueFromData(e.colorDrawerHeaderBackground,"",'style="background: ','"')}>\n                                            ${e.headerLabel}\n                                    </div>`)}function l(){let t=myMdwHelper.getFontSize(e.listItemHeaderTextSize),a=myMdwHelper.getValueFromData(e.drawerIconHeight,"","height: ","px !important;"),l=myMdwHelper.getValueFromData(e.drawerSubItemIconHeight,a,"height: ","px !important;"),r=myMdwHelper.getFontSize(e.listItemTextSize),o=myMdwHelper.getFontSize(e.listSubItemTextSize),s=e.showLabels?"":"display: none;",n=e.showSubItemsLabels?"":"display: none;",d=myMdwHelper.getValueFromData(e.backdropLabelBackgroundHeight,"height: auto;","height: ","%;"),m=myMdwHelper.getValueFromData(e.backdropSubLabelBackgroundHeight,d,"height: ","%;"),c=0;for(var u=0;u<=e.navItemCount;u++){let g=myMdwHelper.getValueFromData(e.attr("headers"+u),null),y=myMdwHelper.getValueFromData(e.attr("labels"+u),"Menu Item"),b=myMdwHelper.getValueFromData(e.attr("iconDrawer"+u),""),w=myMdwHelper.getNumberFromData(e.attr("submenuCounts_"+u),0),v=!1,h="",f="";if(w>0){v=!0;let t=myMdwHelper.getValueFromData(e.attr("labels"+u),null);if(null===t)y="Menu Item";else try{h=JSON.parse(t),y=h.itemText}catch{h="",y="Error: wrong format!"}let a=myMdwHelper.getValueFromData(e.attr("iconDrawer"+u),null);if(null!==a)try{f=JSON.parse(a),b=f.itemImage}catch{f=""}}let M=myMdwHelper.getListItemHeader(g,t);i.push(M);let F=myMdwHelper.getListItem(e.drawerItemLayout,c,b,v,!1,a),x="";"standard"===e.drawerItemLayout&&(x=myMdwHelper.getListItemImage(b,a)),e.showIndexNum&&(y=`[${c}] ${y}`);let H=myMdwHelper.getListItemLabel(e.drawerItemLayout,c,y,v,r,s,e.colorSubItemToggleIcon,d,!1,e.listItemAlignment);if(i.push(`${F}${x}${H}</div>`),v){i.push('<nav class="mdc-list mdc-sub-list">');for(var p=0;p<=w-1;p++){c++;let t="";f&&f.subItems&&f.subItems.length>0&&(t=myMdwHelper.getValueFromData(f.subItems[p],""));let a="";a=h&&h.subItems&&h.subItems.length>0?myMdwHelper.getValueFromData(h.subItems[p],"Menu SubItem"):"Menu SubItem",e.showIndexNum&&(a=`[${c}] ${a}`);let r=myMdwHelper.getListItem(e.drawerSubItemLayout,c,t,!1,!0,l),s="";"standard"===e.drawerSubItemLayout&&(s=myMdwHelper.getListItemImage(t,l));let d=myMdwHelper.getListItemLabel(e.drawerSubItemLayout,c,a,!1,o,n,"",m,!0,e.listSubItemAlignment);i.push(`${r}${s}${d}</div>`)}i.push("</nav>")}i.push(myMdwHelper.getListItemDivider(e.attr("dividers"+u),e.listItemDividerStyle)),c++}}}catch(t){console.exception(`initializeDrawer [${e.wid}]: error:: ${t.message}, stack: ${t.stack}`)}},handler:function(e,t){try{let i=$(e),o=i.parent().parent().get(0),s=i.context,n=i.parent().find(".mdc-top-app-bar").get(0),d=i.parent().find(".mdc-list").get(0);setTimeout(function(){if(i.parent().parent().css("left","0px"),i.parent().parent().css("top","0px"),"modal"===t.drawerLayout){let e=window.getComputedStyle(o,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode&&i.parent().find(".mdc-top-app-bar").css("position","relative")}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode?i.parent().find(".mdc-top-app-bar").css("position","relative"):i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)}},1);let m=myMdwHelper.getValueFromData(t.colorDrawerBackground,"");s.style.setProperty("--materialdesign-color-drawer-background",m),d.style.setProperty("--materialdesign-color-drawer-sub-background",myMdwHelper.getValueFromData(t.colorDrawerSubBackground,m));let c=myMdwHelper.getValueFromData(t.colorDrawerItemBackground,m);d.style.setProperty("--materialdesign-color-list-item-background",c),d.style.setProperty("--materialdesign-color-sub-list-item-background",myMdwHelper.getValueFromData(t.colorDrawerSubItemBackground,c));let u=myMdwHelper.getValueFromData(t.colorListItemSelected,"");d.style.setProperty("--materialdesign-color-list-item-selected",u),d.style.setProperty("--materialdesign-color-sub-list-item-selected",myMdwHelper.getValueFromData(t.colorListSubItemSelected,u));let p=myMdwHelper.getValueFromData(t.colorListItemHover,"");d.style.setProperty("--materialdesign-color-list-item-hover",p),d.style.setProperty("--materialdesign-color-sub-list-item-hover",myMdwHelper.getValueFromData(t.colorListSubItemHover,p));let g=myMdwHelper.getValueFromData(t.colorListItemText,"");d.style.setProperty("--materialdesign-color-list-item-text",g),d.style.setProperty("--materialdesign-color-sub-list-item-text",myMdwHelper.getValueFromData(t.colorListSubItemText,g));let y=myMdwHelper.getValueFromData(t.colorListItemTextSelected,"");d.style.setProperty("--materialdesign-color-list-item-text-activated",y),d.style.setProperty("--materialdesign-color-sub-list-item-text-activated",myMdwHelper.getValueFromData(t.colorListSubItemTextSelected,y)),d.style.setProperty("--materialdesign-color-list-item-header",myMdwHelper.getValueFromData(t.colorListItemHeaders,"")),d.style.setProperty("--materialdesign-color-list-item-divider",myMdwHelper.getValueFromData(t.colorListItemDivider,""));let b=myMdwHelper.getValueFromData(t.colorDrawerbackdropLabelBackground,"");d.style.setProperty("--materialdesign-color-list-item-backdrop",b),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop",myMdwHelper.getValueFromData(t.colorDrawerbackdropSubLabelBackground,b));let w=myMdwHelper.getValueFromData(t.colorDrawerbackdropLabelBackgroundActive,"");d.style.setProperty("--materialdesign-color-list-item-backdrop-activated",w),d.style.setProperty("--materialdesign-color-sub-list-item-backdrop-activated",myMdwHelper.getValueFromData(t.colorDrawerbackdropSubLabelBackgroundActive,w)),n.style.setProperty("--mdc-theme-primary",myMdwHelper.getValueFromData(t.colorTopAppBarBackground,""));const v=new mdc.drawer.MDCDrawer(s),h=new mdc.topAppBar.MDCTopAppBar(n),f=new mdc.list.MDCList(d);f.listElements.map(e=>new mdc.ripple.MDCRipple(e));h.setScrollTarget(i.parent().find(".mdc-top-app-bar-content").get(0)),h.listen("MDCTopAppBar:nav",()=>{if(vis.binds.materialdesign.helper.vibrate(t.vibrateTopAppBarOnMobilDevices),"dismissible"===t.drawerLayout)if(v.open){let e=window.getComputedStyle(o,null).width;window.getComputedStyle(s,null).width;"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",e):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left","0px"),i.parent().find(".drawer-frame-app-content").css("left","0px"),v.open=!v.open}else{let e=window.getComputedStyle(o,null).width,a=window.getComputedStyle(s,null).width,l=e.replace("px","")-a.replace("px","");v.open=!v.open,setTimeout(function(){"short"!==t.topAppBarLayout?i.parent().find(".mdc-top-app-bar").css("width",l):vis.editMode||i.parent().find(".mdc-top-app-bar").css("left",a),i.parent().find(".drawer-frame-app-content").css("left",a)},250)}else v.open=!v.open});var a=vis.states.attr(t.oid+".val");function l(){if(t.showSelectedItemAsTitle){let e=i.parent().find(`span[id="listItem_${f.selectedIndex}"]`).text();i.parent().find(".mdc-top-app-bar__title").text(e)}}function r(e){let t=i.find(`.mdc-list-item[id="listItem_${e}"]`);if(t.hasClass("isSubItem")){let e=t.parent().prev(".hasSubItems");e.hasClass("toggled")||(e.addClass("toggled"),e.find(".toggleIcon").html("keyboard_arrow_up"),e.next("nav.mdc-sub-list").toggle())}}r(a),f.selectedIndex=a,l(),vis.states.bind(t.oid+".val",function(e,t,a){r(t),f.selectedIndex=t,l()}),i.find(".mdc-list-item").click(function(){let e=parseInt($(this).eq(0).attr("id").replace("listItem_",""));vis.binds.materialdesign.helper.vibrate(t.vibrateDrawerOnMobilDevices),$(this).hasClass("hasSubItems")?($(this).hasClass("toggled")?($(this).removeClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_down")):($(this).addClass("toggled"),$(this).find(".toggleIcon").html("keyboard_arrow_up")),$(this).next("nav.mdc-sub-list").toggle(),f.selectedIndex=e):(a=vis.states.attr(t.oid+".val"),a!=e&&(vis.setValue(t.oid,e),l(),setTimeout(function(){window.scrollTo({top:0,left:0})},50)),"modal"===t.drawerLayout&&(v.open=!1))})}catch(e){console.exception(`[Top App Bar Navigation Drawer]: error:: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.views={column:function(e,t){try{let r=$(e),i=(vis.binds.materialdesign.helper,myMdwHelper.getNumberFromData(t.countCols,0)+1),o=[],s="";for(var a=0;a<=i-1;a++){o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column" \n                        style="min-width: ${myMdwHelper.getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${i}) !important;">\n                        <div class="materialdesign-column-views-container-column-view">\n                `);let e=myMdwHelper.getValueFromData(t.attr("viewsInColumn"+a),"").split("|"),r=myMdwHelper.getValueFromData(t.attr("viewsInColumnHeight"+a),"").split("|");for(var l=0;l<=e.length-1;l++){let n=`col_${a}_view_${l}`;o.push(`\n                    <div \n                        class="materialdesign-column-views-container-column-item" \n                        id="${n}" \n                        style="min-width: ${myMdwHelper.getNumberFromData(t.minWidth,0)}px !important; width: calc(100% / ${i}) !important; height: ${myMdwHelper.getNumberFromData(r[l],100)}px">\n                            ${vis.editMode?'<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e;"></div>':""}\n                            <div data-vis-contains="${e[l]}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                    `),s=n}o.push("</div></div>")}r.append(`\n                <div class="materialdesign-column-views-container">\n                    ${o.join("")}\n                </div>\n            `)}catch(e){console.exception(`[Column Views]: error: ${e.message}, stack: ${e.stack}`)}},masonry:function(e,t){try{let l=$(e),r=[],i=myMdwHelper.getNumberFromData(t.countCols,3);l.context.style.setProperty("--materialdesign-masonry-gaps",myMdwHelper.getNumberFromData(t.masnoryGaps,0)+"px");for(var a=0;a<=t.countViews;a++){let e=myMdwHelper.getValueFromData(t.attr("viewsWidth"+a),"");""!==e&&(e.endsWith("%")||e.endsWith("px"))?(console.log("hier1"),e=`width: ${myMdwHelper.getValueFromData(t.attr("viewsWidth"+a))};`):isNaN(e)||""===e?(console.log("hier3"),e=""):(console.log("hier2"),e=`width: ${myMdwHelper.getValueFromData(t.attr("viewsWidth"+a))}px;`);let l=myMdwHelper.getValueFromData(t.attr("viewAlignment"+a),"center");"left"===l&&(l="flex-start"),"right"===l&&(l="flex-end"),r.push(`\n                    <div \n                        class="materialdesign-masonry-item" style="height: ${myMdwHelper.getNumberFromData(t.attr("viewsHeight"+a),100)+myMdwHelper.getNumberFromData(t.masnoryGaps,0)}px; ${e}">\n                            ${vis.editMode?`<div class="editmode-helper" style="border-style: dashed; border-width: 2px; border-color: #44739e; height: ${myMdwHelper.getNumberFromData(t.attr("viewsHeight"+a),100)}px;"></div>`:""}                          \n                            <div data-vis-contains="${t.attr("View"+a)}" class="vis-widget-body vis-view-container">\n                            </div>\n                    </div>\n                `)}l.append(`\n                <div class="materialdesign-masonry-container" style="--materialdesign-masonry-column-count: ${i}; text-align: ${t.viewAlignment};">\n                    ${r.join("")}\n                </div>\n            `)}catch(e){console.exception(`[Masonry Views] error: ${e.message}, stack: ${e.stack}`)}}},vis.binds.materialdesign.viseditor={manualLink:function(e,t){try{let e="https://github.com/Scrounger/ioBroker.vis-materialdesign#iobrokervis-materialdesign";return t&&("card"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#card"),"drawer"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#top-app-bar-with-navigation-drawer"),"drawerSubMenuViews"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#submenu"),"lineHistoryChart"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#line-history-chart"),"list"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#list"),"progress"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#progress"),"slider"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#slider"),"switch"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#switch"),"table"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#table"),"columnViews"===t[1]&&(e="https://github.com/Scrounger/ioBroker.vis-materialdesign#column-views")),{input:`<a target="_blank" href="${e}">${_("readme")}</a>`}}catch(e){console.exception(`[manualLink]: error: ${e.message}, stack: ${e.stack}`)}},bmc:function(e){return{input:`<a target="_blank" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=VWAXSTS634G88&source=url">${_("buymeacoffee")}</a>`}},onlineExample:function(e){return{input:`<a target="_blank" href="https://github.com/Scrounger/ioBroker.vis-materialdesign#online-example-project">${_("linkOnlineExampleProject")}</a>`}}};